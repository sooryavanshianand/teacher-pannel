<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OIST Teacher LMS - Department of Data Science</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        'primary': {
                            '50': '#eff6ff', '100': '#dbeafe', '200': '#bfdbfe', '300': '#93c5fd',
                            '400': '#60a5fa', '500': '#3b82f6', '600': '#2563eb', '700': '#1d4ed8',
                            '800': '#1e40af', '900': '#1e3a8a',
                        },
                    }
                }
            }
        }
    </script>
    <style>
        /* Custom scrollbar for better aesthetics */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background-color: #1f2937; /* dark:bg-gray-800 */ }
        ::-webkit-scrollbar-thumb { background-color: #4b5563; /* dark:bg-gray-600 */ border-radius: 10px; }
        html.light ::-webkit-scrollbar-track { background-color: #f3f4f6; /* light:bg-gray-100 */ }
        html.light ::-webkit-scrollbar-thumb { background-color: #d1d5db; /* light:bg-gray-300 */ }
        /* Simple transition for all elements */
        * { transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease, transform 0.3s ease; }

        /* Animation for sidebar - now from right */
        #sidebar-menu {
            right: 0; /* Position to the right */
            transform: translateX(100%); /* Start off-screen to the right */
        }
        #sidebar-menu.active {
            transform: translateX(0); /* Slide in */
        }
    </style>
</head>
<body class="bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-gray-100 font-sans antialiased">

    <div id="app" class="min-h-screen flex flex-col">

        <header class="bg-white dark:bg-gray-800 shadow-md sticky top-0 z-50">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <div class="flex items-center justify-between h-16">
                    <div class="flex items-center">
                        <!-- College Icon Placeholder -->
                        <img src="data:image/jpeg;base64,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" alt="OIST Logo" class="h-10 w-10 rounded-full mr-3">
                       
                        <h1 class="text-xl font-bold">
                            OIST - Teacher Pannel
                        </h1>
                    </div>
                    <div class="flex items-center">
                        <!-- Theme Toggle -->
                        <button id="theme-toggle" class="p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-primary-500">
                            <i id="theme-icon" class="fas fa-moon text-xl"></i>
                        </button>
                        <!-- Hamburger Menu Button -->
                        <button id="menu-toggle" class="ml-3 p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-primary-500">
                            <i class="fas fa-bars text-xl"></i>
                        </button>
                    </div>
                </div>
            </div>
        </header>

        <!-- Universal Sidebar Menu (now slides from right) -->
        <div id="sidebar-menu" class="fixed inset-y-0 w-64 z-40 p-4 transform shadow-lg transition-transform duration-300 ease-in-out bg-white dark:bg-gray-800">
            <div class="flex justify-end mb-4">
                <button id="close-menu" class="text-gray-500 dark:text-gray-300 hover:text-gray-700 dark:hover:text-gray-100">
                    <i class="fas fa-times text-2xl"></i>
                </button>
            </div>
            <!-- Added h-full and overflow-y-auto to the nav element -->
            <nav class="flex flex-col space-y-4 h-full overflow-y-auto">
                <a href="#dashboard" class="block text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 p-2 rounded-md nav-link" data-target="dashboard"><i class="fas fa-home mr-2"></i> Dashboard</a>
                <a href="#class-subject" class="block text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 p-2 rounded-md nav-link" data-target="class-subject"><i class="fas fa-chalkboard-user mr-2"></i> Class & Subject</a>
                <a href="#assignment-management" class="block text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 p-2 rounded-md nav-link" data-target="assignment-management"><i class="fas fa-file-alt mr-2"></i> Assignment Management</a>
                <a href="#attendance-management" class="block text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 p-2 rounded-md nav-link" data-target="attendance-management"><i class="fas fa-user-check mr-2"></i> Attendance Management</a>
                <a href="#marks-exam" class="block text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 p-2 rounded-md nav-link" data-target="marks-exam"><i class="fas fa-graduation-cap mr-2"></i> Marks & Exam</a>
                <a href="#mcq-exam" class="block text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 p-2 rounded-md nav-link" data-target="mcq-exam"><i class="fas fa-pen-to-square mr-2"></i> Weekly Tests</a>
                <a href="#announcements" class="block text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 p-2 rounded-md nav-link" data-target="announcements"><i class="fas fa-bullhorn mr-2"></i> Announcements</a>
                <a href="#events" class="block text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 p-2 rounded-md nav-link" data-target="events"><i class="fas fa-calendar-plus mr-2"></i> New Events</a>
                <a href="#certificates" class="block text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 p-2 rounded-md nav-link" data-target="certificates"><i class="fas fa-award mr-2"></i> Certificates</a>
                <a href="#notices" class="block text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 p-2 rounded-md nav-link" data-target="notices"><i class="fas fa-bell mr-2"></i> Notices</a>
                <a href="#resource-sharing" class="block text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 p-2 rounded-md nav-link" data-target="resource-sharing"><i class="fas fa-share-alt mr-2"></i> Resource Sharing</a>
                <a href="#calendar" class="block text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 p-2 rounded-md nav-link" data-target="calendar"><i class="fas fa-calendar mr-2"></i> Calendar</a>
                <a href="#feedback" class="block text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 p-2 rounded-md nav-link" data-target="feedback"><i class="fas fa-comment-dots mr-2"></i> Feedback</a>
                <a href="#reports-analytics" class="block text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 p-2 rounded-md nav-link" data-target="reports-analytics"><i class="fas fa-chart-line mr-2"></i> Reports & Analytics</a>
                <a href="#student-details" class="block text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 p-2 rounded-md nav-link" data-target="student-details"><i class="fas fa-user-friends mr-2"></i> Student Details</a>
                <!-- New Nav Link for Add/Update Student Details -->
                <a href="#add-update-student-details" class="block text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 p-2 rounded-md nav-link" data-target="add-update-student-details"><i class="fas fa-user-plus mr-2"></i> Add/Update Student</a>
                <a href="#profile-settings" class="block text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 p-2 rounded-md nav-link" data-target="profile-settings"><i class="fas fa-user-circle mr-2"></i> Profile & Settings</a>
                <a href="#" id="logout-btn" class="block text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 p-2 rounded-md"><i class="fas fa-sign-out-alt mr-2"></i> Logout</a>
            </nav>
        </div>
        <!-- Overlay for menu -->
        <div id="menu-overlay" class="fixed inset-0 bg-black bg-opacity-50 z-30 hidden"></div>


        <main id="content-area" class="flex-grow container mx-auto p-4 sm:p-6 lg:p-8">
            <!-- Content will be injected here by JavaScript -->
        </main>
    </div>

    <!-- Templates for different views -->
    <template id="dashboard-template">
        <h2 class="text-3xl font-bold mb-6 border-l-4 border-primary-500 pl-4">Dashboard Overview</h2>

        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
            <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg flex items-center justify-between">
                <div>
                    <p class="text-lg font-medium text-gray-500 dark:text-gray-400">Classes Today</p>
                    <p class="text-3xl font-bold text-primary-600" id="total-classes-today">3</p>
                </div>
                <i class="fas fa-chalkboard text-4xl text-primary-400"></i>
            </div>
            <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg flex items-center justify-between">
                <div>
                    <p class="text-lg font-medium text-gray-500 dark:text-gray-400">Assignments to Review</p>
                    <p class="text-3xl font-bold text-yellow-600" id="pending-assignments">0</p>
                </div>
                <i class="fas fa-tasks text-4xl text-yellow-400"></i>
            </div>
            <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg flex items-center justify-between">
                <div>
                    <p class="text-lg font-medium text-gray-500 dark:text-gray-400">Recent Notifications</p>
                    <p class="text-3xl font-bold text-teal-600" id="recent-notifications">0</p>
                </div>
                <i class="fas fa-bell text-4xl text-teal-400"></i>
            </div>
            <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg flex items-center justify-between">
                <div>
                    <p class="text-lg font-medium text-gray-500 dark:text-gray-400">Upcoming Events</p>
                    <p class="text-3xl font-bold text-purple-600" id="upcoming-events">0</p>
                </div>
                <i class="fas fa-calendar-alt text-4xl text-purple-400"></i>
            </div>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
            <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg">
                <h3 class="text-xl font-semibold mb-4 flex items-center"><i class="fas fa-inbox text-yellow-400 mr-3"></i> Incoming Help Requests</h3>
                <div id="help-request-list" class="space-y-4 max-h-72 overflow-y-auto pr-2">
                </div>
            </div>

            <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg">
                <h3 class="text-xl font-semibold mb-4 flex items-center"><i class="fas fa-bolt text-blue-500 mr-3"></i> Quick Actions</h3>
                <div class="grid grid-cols-2 gap-4">
                    <button class="bg-primary-100 dark:bg-primary-800 text-primary-800 dark:text-primary-100 p-4 rounded-lg hover:bg-primary-200 dark:hover:bg-primary-700 flex flex-col items-center justify-center text-sm font-medium transition-colors" onclick="window.location.hash='#attendance-management'">
                        <i class="fas fa-user-check text-2xl mb-2"></i> Take Attendance
                    </button>
                    <button class="bg-green-100 dark:bg-green-800 text-green-800 dark:text-green-100 p-4 rounded-lg hover:bg-green-200 dark:hover:bg-green-700 flex flex-col items-center justify-center text-sm font-medium transition-colors" onclick="window.location.hash='#assignment-management'">
                        <i class="fas fa-file-upload text-2xl mb-2"></i> Add Assignment
                    </button>
                    <button class="bg-purple-100 dark:bg-purple-800 text-purple-800 dark:text-purple-100 p-4 rounded-lg hover:bg-purple-200 dark:hover:bg-purple-700 flex flex-col items-center justify-center text-sm font-medium transition-colors" onclick="window.location.hash='#notices'">
                        <i class="fas fa-bell text-2xl mb-2"></i> Publish Notice
                    </button>
                    <button class="bg-orange-100 dark:bg-orange-800 text-orange-800 dark:text-orange-100 p-4 rounded-lg hover:bg-orange-200 dark:hover:bg-orange-700 flex flex-col items-center justify-center text-sm font-medium transition-colors" onclick="window.location.hash='#events'">
                        <i class="fas fa-calendar-plus text-2xl mb-2"></i> New Event
                    </button>
                </div>
            </div>
        </div>
    </template>

    <template id="class-subject-template">
        <h2 class="text-3xl font-bold mb-6 border-l-4 border-primary-500 pl-4">Class & Subject Management</h2>

        <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg mb-8">
            <h3 class="text-xl font-semibold mb-4 flex items-center"><i class="fas fa-book text-green-500 mr-3"></i> My Subjects & Classes</h3>
            <div id="subject-list" class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div class="bg-gray-50 dark:bg-gray-700 p-4 rounded-lg">
                    <p class="font-bold">Data Structures</p>
                    <p class="text-sm text-gray-600 dark:text-gray-400">Class: DS-A, DS-B</p>
                </div>
                <div class="bg-gray-50 dark:bg-gray-700 p-4 rounded-lg">
                    <p class="font-bold">Machine Learning</p>
                    <p class="text-sm text-gray-600 dark:text-gray-400">Class: DS-A</p>
                </div>
                <div class="bg-gray-50 dark:bg-gray-700 p-4 rounded-lg">
                    <p class="font-bold">Database Management</p>
                    <p class="text-sm text-gray-600 dark:text-gray-400">Class: DS-B</p>
                </div>
            </div>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
            <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg">
                <h3 class="text-xl font-semibold mb-4 flex items-center"><i class="fas fa-calendar-day text-purple-500 mr-3"></i> Timetable</h3>
                <div class="bg-gray-50 dark:bg-gray-700 p-4 rounded-lg">
                    <p class="font-bold mb-2">Today: Wednesday, 26 June 2025</p>
                    <ul class="list-disc list-inside space-y-1">
                        <li>9:00 AM - 10:00 AM: Data Structures (DS-A)</li>
                        <li>11:00 AM - 12:00 PM: Machine Learning (DS-A)</li>
                        <li>2:00 PM - 3:00 PM: Data Structures (DS-B)</li>
                    </ul>
                </div>
            </div>

            <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg">
                <h3 class="text-xl font-semibold mb-4 flex items-center"><i class="fas fa-upload text-blue-500 mr-3"></i> Syllabus & Progress</h3>
                <div class="space-y-4">
                    <div>
                        <label for="syllabus-upload" class="block text-sm font-medium mb-1">Upload Syllabus Plan (PDF)</label>
                        <input type="file" id="syllabus-upload" class="block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"/>
                    </div>
                    <div>
                        <label for="lesson-progress" class="block text-sm font-medium mb-1">Mark Lesson Progress</label>
                        <select id="lesson-progress" class="w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-primary-500 focus:border-primary-500">
                            <option value="">Select Subject - Topic</option>
                            <option value="DS-A-Arrays">Data Structures (DS-A) - Arrays</option>
                            <option value="ML-Intro">Machine Learning (DS-A) - Introduction</option>
                        </select>
                        <button id="mark-progress-btn" class="mt-3 w-full bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700">Mark Completed</button>
                        <p id="progress-feedback" class="text-green-500 text-center mt-2 font-semibold"></p>
                    </div>
                </div>
            </div>
        </div>
    </template>

    <template id="assignment-management-template">
        <h2 class="text-3xl font-bold mb-6 border-l-4 border-primary-500 pl-4">Assignment Management</h2>

        <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg mb-8">
            <h3 class="text-xl font-semibold mb-4 flex items-center"><i class="fas fa-file-upload text-blue-500 mr-3"></i> Create New Assignment</h3>
            <div class="space-y-4">
                <div>
                    <label for="new-assignment-title" class="block text-sm font-medium mb-1">Title</label>
                    <input type="text" id="new-assignment-title" class="w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-primary-500 focus:border-primary-500" placeholder="e.g., Data Structures Mid-Term Assignment">
                </div>
                <div>
                    <label for="new-assignment-file" class="block text-sm font-medium mb-1">Assignment File (PDF, DOCX)</label>
                    <input type="file" id="new-assignment-file" class="block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-primary-50 file:text-primary-700 hover:file:bg-primary-100"/>
                </div>
                <div>
                    <label for="new-assignment-description" class="block text-sm font-medium mb-1">Description</label>
                    <textarea id="new-assignment-description" rows="3" class="w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-primary-500 focus:border-primary-500" placeholder="Instructions for students..."></textarea>
                </div>
                <div>
                    <label for="new-assignment-deadline" class="block text-sm font-medium mb-1">Deadline</label>
                    <input type="date" id="new-assignment-deadline" class="w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-primary-500 focus:border-primary-500">
                </div>
                <button id="add-assignment-btn" class="w-full bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">Publish Assignment</button>
                <p id="assignment-feedback" class="text-green-500 text-center mt-2 font-semibold"></p>
            </div>
        </div>

        <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg">
            <h3 class="text-xl font-semibold mb-4 flex items-center"><i class="fas fa-list-check text-green-500 mr-3"></i> Published Assignments</h3>
            <div id="published-assignments-list" class="space-y-4 max-h-96 overflow-y-auto pr-2">
                <p id="no-published-assignments" class="text-gray-500 dark:text-gray-400 text-center py-4 hidden">No assignments published yet.</p>
            </div>
        </div>
    </template>

    <template id="attendance-management-template">
        <h2 class="text-3xl font-bold mb-6 border-l-4 border-primary-500 pl-4">Attendance Management</h2>
        
        <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg mb-8">
            <h3 class="text-xl font-semibold mb-4 flex items-center"><i class="fas fa-calendar-day text-green-500 mr-3"></i> Take Daily Attendance</h3>
            <div class="mb-4">
                <label for="attendance-date" class="block text-sm font-medium mb-1">Select Date</label>
                <input type="date" id="attendance-date" class="w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-primary-500 focus:border-primary-500">
            </div>
            <div id="student-list" class="space-y-3 max-h-72 overflow-y-auto pr-2">
                <!-- Students loaded here -->
            </div>
            <button id="submit-attendance" class="mt-6 w-full bg-primary-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50">Submit Attendance</button>
            <p id="attendance-feedback" class="text-green-500 text-center mt-2 font-semibold"></p>
        </div>

        <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg">
            <h3 class="text-xl font-semibold mb-4 flex items-center"><i class="fas fa-file-export text-blue-500 mr-3"></i> Attendance Reports</h3>
            <button id="download-attendance-report" class="w-full bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">Download Monthly Report (CSV)</button>
             <p class="text-gray-500 dark:text-gray-400 text-center text-sm mt-2">Attendance data is client-side only and not linked to real students or reporting.</p>
        </div>
    </template>

    <template id="marks-exam-template">
        <h2 class="text-3xl font-bold mb-6 border-l-4 border-primary-500 pl-4">Marks & Exam Management</h2>

        <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg mb-8">
            <h3 class="text-xl font-semibold mb-4 flex items-center"><i class="fas fa-keyboard text-purple-500 mr-3"></i> Enter Marks</h3>
            <div class="space-y-4">
                <div>
                    <label for="exam-type" class="block text-sm font-medium mb-1">Exam Type</label>
                    <input type="text" id="exam-type" class="w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-primary-500 focus:border-primary-500" placeholder="e.g., Unit Test 1, Mid-Term, Practical">
                </div>
                <div>
                    <label for="subject-for-marks" class="block text-sm font-medium mb-1">Subject</label>
                    <input type="text" id="subject-for-marks" class="w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-primary-500 focus:border-primary-500" placeholder="e.g., Data Structures">
                </div>
                <div>
                    <label for="marks-csv" class="block text-sm font-medium mb-1">Upload Marks (CSV: Enrollment, Marks)</label>
                    <input id="marks-csv" type="file" accept=".csv" class="block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-purple-50 file:text-purple-700 hover:file:bg-purple-100"/>
                </div>
                <button id="upload-marks-btn" class="w-full bg-purple-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500">Upload Marks</button>
                <p id="marks-feedback" class="text-green-500 text-center mt-2 font-semibold"></p>
            </div>
        </div>

        <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg">
            <h3 class="text-xl font-semibold mb-4 flex items-center"><i class="fas fa-table text-green-500 mr-3"></i> View & Export Marks</h3>
            <div id="marks-table-container" class="overflow-x-auto max-h-96 pr-2">
                <table class="min-w-full divide-y divide-gray-200 dark:divide-gray-700">
                    <thead class="bg-gray-50 dark:bg-gray-700">
                        <tr>
                            <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Exam</th>
                            <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Subject</th>
                            <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Enrollment</th>
                            <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Marks</th>
                            <th scope="col" class="relative px-6 py-3"><span class="sr-only">Edit/Delete</span></th>
                        </tr>
                    </thead>
                    <tbody id="marks-table-body" class="bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700">
                        <tr id="no-marks-message">
                            <td colspan="5" class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center">No marks entered yet.</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <button id="export-marks-btn" class="mt-4 w-full bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">Export All Marks (CSV)</button>
        </div>
    </template>

    <template id="mcq-exam-template">
        <h2 class="text-3xl font-bold mb-6 border-l-4 border-primary-500 pl-4">Weekly Tests</h2>

        <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg mb-8">
            <h3 class="text-xl font-semibold mb-4 flex items-center"><i class="fas fa-file-signature text-purple-500 mr-3"></i> Record Weekly Test Scores</h3>
            <div class="space-y-4">
                <div>
                    <label for="weekly-test-name" class="block text-sm font-medium mb-1">Test Name</label>
                    <input type="text" id="weekly-test-name" class="w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-primary-500 focus:border-primary-500" placeholder="e.g., Week 1 Quiz, Chapter 2 Test">
                </div>
                <div>
                    <label for="weekly-test-subject" class="block text-sm font-medium mb-1">Subject</label>
                    <input type="text" id="weekly-test-subject" class="w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-primary-500 focus:border-primary-500" placeholder="e.g., Data Structures">
                </div>
                <div>
                    <label for="weekly-test-date" class="block text-sm font-medium mb-1">Test Date</label>
                    <input type="date" id="weekly-test-date" class="w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-primary-500 focus:border-primary-500">
                </div>
                <div>
                    <label for="weekly-test-marks-csv" class="block text-sm font-medium mb-1">Upload Scores (CSV: Enrollment, Score)</label>
                    <input id="weekly-test-marks-csv" type="file" accept=".csv" class="block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-purple-50 file:text-purple-700 hover:file:bg-purple-100"/>
                </div>
                <button id="add-weekly-test-btn" class="w-full bg-purple-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500">Add Weekly Test Scores</button>
                <p id="weekly-test-feedback" class="text-green-500 text-center mt-2 font-semibold"></p>
            </div>
        </div>

        <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg">
            <h3 class="text-xl font-semibold mb-4 flex items-center"><i class="fas fa-list-ol text-green-500 mr-3"></i> Recorded Weekly Tests</h3>
            <div id="weekly-tests-list-container" class="overflow-x-auto max-h-96 pr-2">
                <table class="min-w-full divide-y divide-gray-200 dark:divide-gray-700">
                    <thead class="bg-gray-50 dark:bg-gray-700">
                        <tr>
                            <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Test Name</th>
                            <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Subject</th>
                            <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Date</th>
                            <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Enrollment</th>
                            <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Score</th>
                            <th scope="col" class="relative px-6 py-3"><span class="sr-only">Delete</span></th>
                        </tr>
                    </thead>
                    <tbody id="weekly-tests-table-body" class="bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700">
                        <tr id="no-weekly-tests-message">
                            <td colspan="6" class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center">No weekly test scores recorded yet.</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </template>

    <template id="announcements-template">
        <h2 class="text-3xl font-bold mb-6 border-l-4 border-primary-500 pl-4">Announcements</h2>

        <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg mb-8">
            <h3 class="text-xl font-semibold mb-4 flex items-center"><i class="fas fa-bullhorn text-blue-500 mr-3"></i> Add New Announcement</h3>
            <div class="space-y-4">
                <div>
                    <label for="announcement-title" class="block text-sm font-medium mb-1">Title</label>
                    <input type="text" id="announcement-title" class="w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-primary-500 focus:border-primary-500" placeholder="e.g., Exam Schedule Update">
                </div>
                <div>
                    <label for="announcement-content" class="block text-sm font-medium mb-1">Content</label>
                    <textarea id="announcement-content" rows="4" class="w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-primary-500 focus:border-primary-500" placeholder="Details of the announcement..."></textarea>
                </div>
                <div class="flex items-center">
                    <input type="checkbox" id="announcement-important" class="h-4 w-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500 dark:bg-gray-700 dark:border-gray-600">
                    <label for="announcement-important" class="ml-2 block text-sm font-medium">Mark as Important</label>
                </div>
                <button id="add-announcement-btn" class="w-full bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">Add Announcement</button>
                <p id="announcement-feedback" class="text-green-500 text-center mt-2 font-semibold"></p>
            </div>
        </div>

        <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg">
            <h3 class="text-xl font-semibold mb-4 flex items-center"><i class="fas fa-list-ul text-green-500 mr-3"></i> All Announcements</h3>
            <div id="announcements-list" class="space-y-4 max-h-96 overflow-y-auto pr-2">
                <!-- Announcements will be rendered here -->
            </div>
             <p id="no-announcements-message" class="text-gray-500 dark:text-gray-400 text-center py-4 hidden">No announcements yet.</p>
        </div>
    </template>

    <template id="events-template">
        <h2 class="text-3xl font-bold mb-6 border-l-4 border-primary-500 pl-4">New Events</h2>

        <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg mb-8">
            <h3 class="text-xl font-semibold mb-4 flex items-center"><i class="fas fa-calendar-plus text-orange-500 mr-3"></i> Add New Event</h3>
            <div class="space-y-4">
                <div>
                    <label for="event-title" class="block text-sm font-medium mb-1">Event Title</label>
                    <input type="text" id="event-title" class="w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-primary-500 focus:border-primary-500" placeholder="e.g., Annual Sports Day">
                </div>
                <div>
                    <label for="event-date" class="block text-sm font-medium mb-1">Event Date</label>
                    <input type="date" id="event-date" class="w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-primary-500 focus:border-primary-500">
                </div>
                <div>
                    <label for="event-description" class="block text-sm font-medium mb-1">Description</label>
                    <textarea id="event-description" rows="4" class="w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-primary-500 focus:border-primary-500" placeholder="Details about the event..."></textarea>
                </div>
                <button id="add-event-btn" class="w-full bg-orange-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500">Add Event</button>
                <p id="event-feedback" class="text-green-500 text-center mt-2 font-semibold"></p>
            </div>
        </div>

        <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg">
            <h3 class="text-xl font-semibold mb-4 flex items-center"><i class="fas fa-calendar-alt text-green-500 mr-3"></i> Upcoming/Past Events</h3>
            <div id="events-list" class="space-y-4 max-h-96 overflow-y-auto pr-2">
                <!-- Events will be rendered here -->
            </div>
             <p id="no-events-message" class="text-gray-500 dark:text-gray-400 text-center py-4 hidden">No events yet.</p>
        </div>
    </template>

    <template id="certificates-template">
        <h2 class="text-3xl font-bold mb-6 border-l-4 border-primary-500 pl-4">Certificates</h2>

        <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg mb-8">
            <h3 class="text-xl font-semibold mb-4 flex items-center"><i class="fas fa-award text-teal-500 mr-3"></i> Issue New Certificate</h3>
            <div class="space-y-4">
                <div>
                    <label for="certificate-student" class="block text-sm font-medium mb-1">Student Name</label>
                    <input type="text" id="certificate-student" class="w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-primary-500 focus:border-primary-500" placeholder="e.g., Alice Smith">
                </div>
                <div>
                    <label for="certificate-type" class="block text-sm font-medium mb-1">Certificate Type</label>
                    <input type="text" id="certificate-type" class="w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-primary-500 focus:border-primary-500" placeholder="e.g., Participation, Excellence">
                </div>
                <div>
                    <label for="certificate-date" class="block text-sm font-medium mb-1">Issue Date</label>
                    <input type="date" id="certificate-date" class="w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-primary-500 focus:border-primary-500">
                </div>
                <button id="issue-certificate-btn" class="w-full bg-teal-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500">Issue Certificate</button>
                <p id="certificate-feedback" class="text-green-500 text-center mt-2 font-semibold"></p>
            </div>
        </div>

        <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg">
            <h3 class="text-xl font-semibold mb-4 flex items-center"><i class="fas fa-clipboard-list text-green-500 mr-3"></i> Issued Certificates</h3>
            <div id="certificates-list" class="space-y-4 max-h-96 overflow-y-auto pr-2">
                <!-- Certificates will be rendered here -->
            </div>
             <p id="no-certificates-message" class="text-gray-500 dark:text-gray-400 text-center py-4 hidden">No certificates issued yet.</p>
        </div>
    </template>

    <template id="notices-template">
        <h2 class="text-3xl font-bold mb-6 border-l-4 border-primary-500 pl-4">Notices</h2>

        <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg mb-8">
            <h3 class="text-xl font-semibold mb-4 flex items-center"><i class="fas fa-bell text-red-500 mr-3"></i> Create New Notice</h3>
            <div class="space-y-4">
                <div>
                    <label for="notice-title" class="block text-sm font-medium mb-1">Notice Title</label>
                    <input type="text" id="notice-title" class="w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-primary-500 focus:border-primary-500" placeholder="e.g., Holiday Notification">
                </div>
                <div>
                    <label for="notice-content" class="block text-sm font-medium mb-1">Content</label>
                    <textarea id="notice-content" rows="4" class="w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-primary-500 focus:border-primary-500" placeholder="Details of the notice..."></textarea>
                </div>
                <button id="add-notice-btn" class="w-full bg-red-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500">Publish Notice</button>
                <p id="notice-feedback" class="text-green-500 text-center mt-2 font-semibold"></p>
            </div>
        </div>

        <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg">
            <h3 class="text-xl font-semibold mb-4 flex items-center"><i class="fas fa-file-alt text-green-500 mr-3"></i> All Notices</h3>
            <div id="notices-list" class="space-y-4 max-h-96 overflow-y-auto pr-2">
                <!-- Notices will be rendered here -->
            </div>
             <p id="no-notices-message" class="text-gray-500 dark:text-gray-400 text-center py-4 hidden">No notices yet.</p>
        </div>
    </template>

    <template id="resource-sharing-template">
        <h2 class="text-3xl font-bold mb-6 border-l-4 border-primary-500 pl-4">Resource Sharing</h2>

        <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg mb-8">
            <h3 class="text-xl font-semibold mb-4 flex items-center"><i class="fas fa-upload text-orange-500 mr-3"></i> Upload Study Material</h3>
            <div class="space-y-4">
                <div>
                    <label for="resource-title" class="block text-sm font-medium mb-1">Title</label>
                    <input type="text" id="resource-title" class="w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-primary-500 focus:border-primary-500" placeholder="e.g., Chapter 1 Notes - PDF">
                </div>
                <div>
                    <label for="resource-file" class="block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-orange-50 file:text-orange-700 hover:file:bg-orange-100"/>
                </div>
                <div>
                    <label for="resource-link" class="block text-sm font-medium mb-1">External Link (Optional)</label>
                    <input type="url" id="resource-link" class="w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-primary-500 focus:border-primary-500" placeholder="e.g., https://youtube.com/lecture">
                </div>
                <div>
                    <label for="resource-subject" class="block text-sm font-medium mb-1">Subject/Topic</label>
                    <input type="text" id="resource-subject" class="w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-primary-500 focus:border-primary-500" placeholder="e.g., Data Structures - Arrays">
                </div>
                <button id="add-resource-btn" class="w-full bg-orange-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500">Share Resource</button>
                <p id="resource-feedback" class="text-green-500 text-center mt-2 font-semibold"></p>
            </div>
        </div>

        <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg">
            <h3 class="text-xl font-semibold mb-4 flex items-center"><i class="fas fa-folder-open text-green-500 mr-3"></i> Shared Resources</h3>
            <div id="resources-list" class="space-y-4 max-h-96 overflow-y-auto pr-2">
                <p id="no-resources-message" class="text-gray-500 dark:text-gray-400 text-center py-4 hidden">No resources shared yet.</p>
            </div>
        </div>
    </template>

    <template id="calendar-template">
        <h2 class="text-3xl font-bold mb-6 border-l-4 border-primary-500 pl-4">Calendar & Schedule</h2>

        <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg mb-8">
            <h3 class="text-xl font-semibold mb-4 flex items-center"><i class="fas fa-calendar-days text-primary-500 mr-3"></i> My Teaching Calendar</h3>
            <div id="calendar-display" class="bg-gray-50 dark:bg-gray-700 p-4 rounded-lg text-center">
                <p class="text-lg font-bold">June 2025</p>
                <div class="grid grid-cols-7 gap-2 mt-4 text-sm font-medium text-gray-500 dark:text-gray-400">
                    <div>Mon</div><div>Tue</div><div>Wed</div><div>Thu</div><div>Fri</div><div>Sat</div><div>Sun</div>
                </div>
                <div class="grid grid-cols-7 gap-2 mt-2">
                    <!-- Placeholder days -->
                    <div></div><div></div><div class="p-2 rounded-full bg-primary-200 dark:bg-primary-700 text-primary-800 dark:text-primary-200 font-semibold">1</div>
                    <div class="p-2 rounded-full">2</div><div class="p-2 rounded-full">3</div><div class="p-2 rounded-full">4</div><div class="p-2 rounded-full">5</div>
                    <div class="p-2 rounded-full">6</div><div class="p-2 rounded-full">7</div><div class="p-2 rounded-full bg-blue-200 dark:bg-blue-700 text-blue-800 dark:text-blue-200 font-semibold">8 <i class="fas fa-star text-xs"></i></div>
                    <div class="p-2 rounded-full">...</div>
                    <div class="p-2 rounded-full bg-orange-200 dark:bg-orange-700 text-orange-800 dark:text-orange-200 font-semibold">26 <i class="fas fa-graduation-cap text-xs"></i></div>
                    <!-- Actual event dates should be highlighted -->
                </div>
                <p class="text-sm text-gray-500 dark:text-gray-400 mt-4">Orange highlights indicate events. Blue highlights indicate today.</p>
            </div>
        </div>

        <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg">
            <h3 class="text-xl font-semibold mb-4 flex items-center"><i class="fas fa-clipboard-list text-green-500 mr-3"></i> College Academic Schedule</h3>
            <ul class="list-disc list-inside space-y-2">
                <li><span class="font-semibold">July 15, 2025:</span> Mid-Term Exams Begin</li>
                <li><span class="font-semibold">August 1, 2025:</span> Summer Break Starts</li>
                <li><span class="font-semibold">September 1, 2025:</span> New Academic Session</li>
            </ul>
             <p class="text-gray-500 dark:text-gray-400 text-center text-sm mt-2">This data is static. In a real system, it would be integrated with college ERP.</p>
        </div>
    </template>

    <template id="feedback-template">
        <h2 class="text-3xl font-bold mb-6 border-l-4 border-primary-500 pl-4">Feedback System</h2>

        <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg mb-8">
            <h3 class="text-xl font-semibold mb-4 flex items-center"><i class="fas fa-comment text-blue-500 mr-3"></i> Give Feedback to Student</h3>
            <div class="space-y-4">
                <div>
                    <label for="feedback-student-name" class="block text-sm font-medium mb-1">Student Name</label>
                    <input type="text" id="feedback-student-name" class="w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-primary-500 focus:border-primary-500" placeholder="e.g., John Doe">
                </div>
                <div>
                    <label for="feedback-category" class="block text-sm font-medium mb-1">Category</label>
                    <select id="feedback-category" class="w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-primary-500 focus:border-primary-500">
                        <option value="">Select Category</option>
                        <option value="Performance">Academic Performance</option>
                        <option value="Behavior">Behavioral</option>
                        <option value="Participation">Class Participation</option>
                        <option value="Other">Other</option>
                    </select>
                </div>
                <div>
                    <label for="feedback-content" class="block text-sm font-medium mb-1">Feedback Content</label>
                    <textarea id="feedback-content" rows="4" class="w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-primary-500 focus:border-primary-500" placeholder="Enter detailed feedback here..."></textarea>
                </div>
                <button id="submit-feedback-btn" class="w-full bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">Submit Feedback</button>
                <p id="feedback-message" class="text-green-500 text-center mt-2 font-semibold"></p>
            </div>
        </div>

        <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg">
            <h3 class="text-xl font-semibold mb-4 flex items-center"><i class="fas fa-clipboard-check text-green-500 mr-3"></i> Submitted Feedback</h3>
            <div id="feedback-list" class="space-y-4 max-h-96 overflow-y-auto pr-2">
                <p id="no-feedback-message" class="text-gray-500 dark:text-gray-400 text-center py-4 hidden">No feedback submitted yet.</p>
            </div>
        </div>
    </template>

    <template id="reports-analytics-template">
        <h2 class="text-3xl font-bold mb-6 border-l-4 border-primary-500 pl-4">Reports & Analytics</h2>

        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
            <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg">
                <h3 class="text-xl font-semibold mb-4 flex items-center"><i class="fas fa-chart-pie text-red-500 mr-3"></i> Attendance Summary</h3>
                <p class="text-center text-gray-700 dark:text-gray-300">Total students: <span class="font-bold">7</span></p>
                <p class="text-center text-gray-700 dark:text-gray-300">Students marked present today: <span class="font-bold" id="dashboard-attendance-present">0</span></p>
                <p class="text-sm text-gray-500 dark:text-gray-400 text-center mt-2">This is a summary for today's attendance only. Full reports can be generated from the Attendance Management section.</p>
            </div>

            <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg">
                <h3 class="text-xl font-semibold mb-4 flex items-center"><i class="fas fa-chart-bar text-blue-500 mr-3"></i> Marks Analysis</h3>
                <p class="text-center text-gray-700 dark:text-gray-300">Total marks entries: <span class="font-bold" id="dashboard-total-marks">0</span></p>
                <p class="text-center text-gray-700 dark:text-gray-300">Average mark (all exams): <span class="font-bold" id="dashboard-average-mark">N/A</span></p>
                <p class="text-sm text-gray-500 dark:text-gray-400 text-center mt-2">More detailed analysis available in Marks & Exam Management.</p>
            </div>

            <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg">
                <h3 class="text-xl font-semibold mb-4 flex items-center"><i class="fas fa-clipboard-check text-green-500 mr-3"></i> Assignment Submission Status</h3>
                <p class="text-center text-gray-700 dark:text-gray-300">Total published assignments: <span class="font-bold" id="dashboard-total-assignments">0</span></p>
                <p class="text-center text-gray-700 dark:text-gray-300">Assignments pending review: <span class="font-bold" id="dashboard-assignments-pending-review">0</span></p>
                <p class="text-sm text-gray-500 dark:text-gray-400 text-center mt-2">Status is based on internal tracking (no actual submission files).</p>
            </div>

            <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg">
                <h3 class="text-xl font-semibold mb-4 flex items-center"><i class="fas fa-users-slash text-red-500 mr-3"></i> Defaulter Lists (Example)</h3>
                <ul class="list-disc list-inside space-y-2">
                    <li><span class="font-semibold">Low Attendance:</span> Jane Doe (65%)</li>
                    <li><span class="font-semibold">Poor Performance:</span> John Smith (DS)</li>
                </ul>
                <p class="text-sm text-gray-500 dark:text-gray-400 text-center mt-2">This section provides examples; real data requires full integration.</p>
            </div>
        </div>
    </template>

    <template id="student-details-template">
        <h2 class="text-3xl font-bold mb-6 border-l-4 border-primary-500 pl-4">Student Details</h2>

        <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg">
            <h3 class="text-xl font-semibold mb-4 flex items-center"><i class="fas fa-user-graduate text-blue-500 mr-3"></i> Manage Student Information</h3>
            <div id="student-details-list" class="space-y-6 max-h-[70vh] overflow-y-auto pr-2">
                <!-- Student details will be rendered here -->
            </div>
            <p id="no-students-message" class="text-gray-500 dark:text-gray-400 text-center py-4 hidden">No students available.</p>
        </div>
    </template>

    <!-- New Template for Add/Update Student Details -->
    <template id="add-update-student-details-template">
        <h2 class="text-3xl font-bold mb-6 border-l-4 border-primary-500 pl-4">Add/Update Student Details</h2>

        <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg mb-8">
            <h3 class="text-xl font-semibold mb-4 flex items-center"><i class="fas fa-user-plus text-primary-500 mr-3"></i> Student Information Form</h3>
            <form id="student-form" class="space-y-4">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                        <label for="student-enrollment-id" class="block text-sm font-medium mb-1">Enrollment ID (Auto-generated for New)</label>
                        <input type="text" id="student-enrollment-id" class="w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-primary-500 focus:border-primary-500 cursor-not-allowed" placeholder="Will be generated" readonly>
                    </div>
                    <div>
                        <label for="student-name-input" class="block text-sm font-medium mb-1">Student Name</label>
                        <input type="text" id="student-name-input" class="w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-primary-500 focus:border-primary-500" placeholder="e.g., Jane Doe" required>
                    </div>
                    <div>
                        <label for="student-father-name" class="block text-sm font-medium mb-1">Father's Name</label>
                        <input type="text" id="student-father-name" class="w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-primary-500 focus:border-primary-500" placeholder="e.g., Robert Doe">
                    </div>
                    <div>
                        <label for="student-mobile-number" class="block text-sm font-medium mb-1">Student Mobile Number</label>
                        <input type="tel" id="student-mobile-number" class="w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-primary-500 focus:border-primary-500" placeholder="e.g., 9876543210">
                    </div>
                    <div>
                        <label for="parent-mobile-number" class="block text-sm font-medium mb-1">Parent Mobile Number</label>
                        <input type="tel" id="parent-mobile-number" class="w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-primary-500 focus:border-primary-500" placeholder="e.g., 9988776655">
                    </div>
                    <div class="md:col-span-2">
                        <label for="student-address-street" class="block text-sm font-medium mb-1">Street Address</label>
                        <input type="text" id="student-address-street" class="w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-primary-500 focus:border-primary-500" placeholder="e.g., 123 Main St">
                    </div>
                    <div>
                        <label for="student-address-city" class="block text-sm font-medium mb-1">City</labe>
                        <input type="text" id="student-address-city" class="w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-primary-500 focus:border-primary-500" placeholder="e.g., Bhopal">
                    </div>
                    <div>
                        <label for="student-address-state" class="block text-sm font-medium mb-1">State</label>
                        <input type="text" id="student-address-state" class="w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-primary-500 focus:border-primary-500" placeholder="e.g., Madhya Pradesh">
                    </div>
                </div>

                <div class="mt-4">
                    <label for="profile-picture-upload" class="block text-sm font-medium mb-1">Profile Picture (Optional)</label>
                    <input type="file" id="profile-picture-upload" accept="image/*" class="block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-primary-50 file:text-primary-700 hover:file:bg-primary-100"/>
                    <img id="profile-picture-preview" src="https://placehold.co/80x80/cccccc/000000?text=Preview" alt="Profile Preview" class="mt-2 rounded-full h-20 w-20 object-cover hidden">
                    <p class="text-xs text-gray-500 dark:text-gray-400 mt-1">Note: Profile picture upload is for preview only; it's not saved locally.</p>
                </div>

                <button type="submit" id="submit-student-details-btn" class="w-full bg-primary-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500">Add New Student</button>
                <p id="student-form-feedback" class="text-green-500 text-center mt-2 font-semibold"></p>
            </form>
        </div>

        <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg">
            <h3 class="text-xl font-semibold mb-4 flex items-center"><i class="fas fa-search text-teal-500 mr-3"></i> Find Student to Update</h3>
            <div class="flex flex-col sm:flex-row gap-3 mb-4">
                <input type="text" id="find-student-enrollment" class="flex-grow p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-primary-500 focus:border-primary-500" placeholder="Enter Enrollment ID to update">
                <button id="find-student-btn" class="bg-teal-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500">Find Student</button>
            </div>
            <p id="find-student-feedback" class="text-green-500 text-center mt-2 font-semibold"></p>
        </div>
    </template>

    <template id="profile-settings-template">
        <h2 class="text-3xl font-bold mb-6 border-l-4 border-primary-500 pl-4">Profile & Settings</h2>

        <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg mb-8">
            <h3 class="text-xl font-semibold mb-4 flex items-center"><i class="fas fa-user-edit text-blue-500 mr-3"></i> Update Personal Info</h3>
            <div class="space-y-4">
                <div>
                    <label for="profile-name" class="block text-sm font-medium mb-1">Name</label>
                    <input type="text" id="profile-name" class="w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-primary-500 focus:border-primary-500" value="Dr. John Doe">
                </div>
                <div>
                    <label for="profile-email" class="block text-sm font-medium mb-1">Email</label>
                    <input type="email" id="profile-email" class="w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-primary-500 focus:border-primary-500" value="john.doe@oist.edu">
                </div>
                <button id="update-profile-btn" class="w-full bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700">Update Profile</button>
                <p id="profile-feedback" class="text-green-500 text-center mt-2 font-semibold"></p>
            </div>
        </div>

        <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg">
            <h3 class="text-xl font-semibold mb-4 flex items-center"><i class="fas fa-key text-purple-500 mr-3"></i> Change Password</h3>
            <div class="space-y-4">
                <div>
                    <label for="current-password" class="block text-sm font-medium mb-1">Current Password</label>
                    <input type="password" id="current-password" class="w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-primary-500 focus:border-primary-500">
                </div>
                <div>
                    <label for="new-password" class="block text-sm font-medium mb-1">New Password</label>
                    <input type="password" id="new-password" class="w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-primary-500 focus:border-primary-500">
                </div>
                <div>
                    <label for="confirm-new-password" class="block text-sm font-medium mb-1">Confirm New Password</label>
                    <input type="password" id="confirm-new-password" class="w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-primary-500 focus:border-primary-500">
                </div>
                <button id="change-password-btn" class="w-full bg-purple-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-purple-700">Change Password</button>
                <p id="password-feedback" class="text-green-500 text-center mt-2 font-semibold"></p>
            </div>
        </div>
    </template>


    <script>
    // --- Local Storage Keys (Moved to global scope for accessibility) ---
    const THEME_KEY = 'lms_theme';
    const STUDENTS_KEY = 'lms_students';
    const ATTENDANCE_KEY = 'lms_attendanceData';
    const REQUESTS_KEY = 'lms_helpRequests';
    const ANNOUNCEMENTS_KEY = 'lms_announcements';
    const EVENTS_KEY = 'lms_events';
    const CERTIFICATES_KEY = 'lms_certificates';
    const NOTICES_KEY = 'lms_notices';
    const ASSIGNMENTS_KEY = 'lms_assignments';
    const MARKS_KEY = 'lms_marks';
    const MCQ_EXAMS_KEY = 'lms_mcqExams';
    const RESOURCES_KEY = 'lms_resources';
    const FEEDBACK_KEY = 'lms_feedback';

    // --- Core Utility Functions (Moved to global scope) ---
    const saveToLocalStorage = (key, data) => {
        localStorage.setItem(key, JSON.stringify(data));
    };

    const showFeedback = (element, message, isError = false) => {
        if (!element) return;
        element.textContent = message;
        if (isError) {
            element.classList.remove('text-green-500');
            element.classList.add('text-red-500');
        } else {
            element.classList.remove('text-red-500');
            element.classList.add('text-green-500');
        }
        setTimeout(() => {
            element.textContent = '';
            element.classList.remove('text-red-500', 'text-green-500');
        }, 3000);
    };

    const applyTheme = (theme) => {
        if (theme === 'dark') {
            document.documentElement.classList.add('dark');
            document.getElementById('theme-icon').classList.replace('fa-sun', 'fa-moon');
        } else {
            document.documentElement.classList.remove('dark');
            document.getElementById('theme-icon').classList.replace('fa-moon', 'fa-sun');
        }
        saveToLocalStorage(THEME_KEY, theme);
    };


    document.addEventListener('DOMContentLoaded', () => {
        // --- DOM Elements (Common) ---
        const themeToggle = document.getElementById('theme-toggle');
        const themeIcon = document.getElementById('theme-icon'); // Re-get inside DOMContentLoaded for safety
        const contentArea = document.getElementById('content-area');
        const navLinks = document.querySelectorAll('.nav-link');
        const menuToggle = document.getElementById('menu-toggle');
        const sidebarMenu = document.getElementById('sidebar-menu');
        const closeMenu = document.getElementById('close-menu');
        const menuOverlay = document.getElementById('menu-overlay');
        const logoutBtn = document.getElementById('logout-btn');

        // --- Templates ---
        const dashboardTemplate = document.getElementById('dashboard-template');
        const classSubjectTemplate = document.getElementById('class-subject-template');
        const assignmentManagementTemplate = document.getElementById('assignment-management-template');
        const attendanceManagementTemplate = document.getElementById('attendance-management-template');
        const marksExamTemplate = document.getElementById('marks-exam-template');
        const mcqExamTemplate = document.getElementById('mcq-exam-template');
        const announcementsTemplate = document.getElementById('announcements-template');
        const eventsTemplate = document.getElementById('events-template');
        const certificatesTemplate = document.getElementById('certificates-template');
        const noticesTemplate = document.getElementById('notices-template');
        const resourceSharingTemplate = document.getElementById('resource-sharing-template');
        const calendarTemplate = document.getElementById('calendar-template');
        const feedbackTemplate = document.getElementById('feedback-template');
        const reportsAnalyticsTemplate = document.getElementById('reports-analytics-template');
        const studentDetailsTemplate = document.getElementById('student-details-template');
        const addUpdateStudentDetailsTemplate = document.getElementById('add-update-student-details-template'); // New template
        const profileSettingsTemplate = document.getElementById('profile-settings-template');

        // --- Dynamic DOM Elements (will be reassigned on view render) ---
        // Dashboard
        let helpRequestList, totalClassesTodayDisplay, pendingAssignmentsDisplay, recentNotificationsDisplay, upcomingEventsDisplay;
        // Class & Subject
        let syllabusUploadInput, lessonProgressSelect, markProgressBtn, progressFeedback;
        // Assignment Management
        let newAssignmentTitleInput, newAssignmentFileInput, newAssignmentDescriptionInput, newAssignmentDeadlineInput, addAssignmentBtn, assignmentFeedback, publishedAssignmentsList, noPublishedAssignmentsMessage;
        // Attendance Management
        let attendanceDateInput, studentListContainer, submitAttendanceBtn, attendanceFeedback, downloadAttendanceReportBtn;
        // Marks & Exam Management
        let examTypeInput, subjectForMarksInput, marksCsvInput, uploadMarksBtn, marksFeedback, marksTableBody, noMarksMessage, exportMarksBtn;
        // MCQ Exam Section (previously Weekly Tests)
        let weeklyTestNameInput, weeklyTestSubjectInput, weeklyTestDateInput, weeklyTestMarksCsvInput, addWeeklyTestBtn, weeklyTestFeedback, weeklyTestsTableBody, noWeeklyTestsMessage;
        // Announcements
        let announcementTitleInput, announcementContentInput, announcementImportantCheckbox, addAnnouncementBtn, announcementFeedback, announcementsList, noAnnouncementsMessage;
        // Events
        let eventTitleInput, eventDateInput, eventDescriptionInput, addEventBtn, eventFeedback, eventsList, noEventsMessage;
        // Certificates
        let certificateStudentInput, certificateTypeInput, certificateDateInput, issueCertificateBtn, certificateFeedback, certificatesList, noCertificatesMessage;
        // Notices
        let noticeTitleInput, noticeContentInput, addNoticeBtn, noticeFeedback, noticesList, noNoticesMessage;
        // Resource Sharing
        let resourceTitleInput, resourceFileInput, resourceLinkInput, resourceSubjectInput, addResourceBtn, resourceFeedback, resourcesList, noResourcesMessage;
        // Calendar
        let calendarDisplay;
        // Feedback
        let feedbackStudentNameInput, feedbackCategorySelect, feedbackContentTextarea, submitFeedbackBtn, feedbackMessage, feedbackList, noFeedbackMessage;
        // Reports & Analytics
        let dashboardAttendancePresent, dashboardTotalMarks, dashboardAverageMark, dashboardTotalAssignments, dashboardAssignmentsPendingReview;
        // Student Details
        let studentDetailsList, noStudentsMessage;
        // Add/Update Student Details
        let studentForm, studentEnrollmentIdInput, studentNameInput, studentFatherNameInput, studentAddressStreetInput, studentAddressCityInput, studentAddressStateInput, studentMobileNumberInput, parentMobileNumberInput, profilePictureUploadInput, profilePicturePreview, submitStudentDetailsBtn, studentFormFeedback, findStudentEnrollmentInput, findStudentBtn, findStudentFeedback;
        // Profile & Settings
        let profileNameInput, profileEmailInput, updateProfileBtn, profileFeedback, currentPasswordInput, newPasswordInput, confirmNewPasswordInput, changePasswordBtn, passwordFeedback;


        // --- Dummy Data ---
        // Expanded student data for Student Details section
        const initialStudents = [
            { enrollment: '0101DS211001', name: 'Anand', fatherName: 'Kumar', addressStreet: '123 Main St', addressCity: 'Bhopal', addressState: 'Madhya Pradesh', phoneNumber: '9876543210', parentPhoneNumber: '9988776655', profilePicUrl: 'https://placehold.co/40x40/FF0000/FFFFFF?text=A' },
            { enrollment: '0101DS211002', name: 'Amit', fatherName: 'Singh', addressStreet: '456 Oak Ave', addressCity: 'Indore', addressState: 'Madhya Pradesh', phoneNumber: '9123456789', parentPhoneNumber: '9234567890', profilePicUrl: 'https://placehold.co/40x40/00FF00/FFFFFF?text=Am' },
            { enrollment: '0101DS211003', name: 'Ayush', fatherName: 'Sharma', addressStreet: '789 Pine Ln', addressCity: 'Jabalpur', addressState: 'Madhya Pradesh', phoneNumber: '8765432109', parentPhoneNumber: '8877665544', profilePicUrl: 'https://placehold.co/40x40/0000FF/FFFFFF?text=Ay' },
            { enrollment: '0101DS211004', name: 'Pranav', fatherName: 'Verma', addressStreet: '101 Elm Rd', addressCity: 'Bhopal', addressState: 'Madhya Pradesh', phoneNumber: '8123456789', parentPhoneNumber: '8234567890', profilePicUrl: 'https://placehold.co/40x40/FFFF00/000000?text=Pr' },
            { enrollment: '0101DS211005', name: 'Puneet', fatherName: 'Gupta', addressStreet: '202 Birch Ct', addressCity: 'Gwalior', addressState: 'Madhya Pradesh', phoneNumber: '7890123456', parentPhoneNumber: '7901234567', profilePicUrl: 'https://placehold.co/40x40/00FFFF/000000?text=Pu' },
            { enrollment: '0101DS211006', name: 'Shubham', fatherName: 'Yadav', addressStreet: '303 Cedar Dr', addressCity: 'Ujjain', addressState: 'Madhya Pradesh', phoneNumber: '7123456780', parentPhoneNumber: '7234567890', profilePicUrl: 'https://placehold.co/40x40/FF00FF/FFFFFF?text=Sh' },
            { enrollment: '0101DS211007', name: 'Vihan', fatherName: 'Prajapati', addressStreet: '404 Willow Way', addressCity: 'Rewa', addressState: 'Madhya Pradesh', phoneNumber: '9012345678', parentPhoneNumber: '9123456789', profilePicUrl: 'https://placehold.co/40x40/800080/FFFFFF?text=Vi' },
        ].sort((a, b) => a.name.localeCompare(b.name));


        // --- Initial State (Load from local storage or use defaults/dummy) ---
        let studentsData = JSON.parse(localStorage.getItem(STUDENTS_KEY)) || initialStudents;
        // Merge initial student data with any stored data to ensure all fields are present for new ones
        initialStudents.forEach(initialStudent => {
            const existingStudent = studentsData.find(s => s.enrollment === initialStudent.enrollment);
            if (!existingStudent) {
                studentsData.push(initialStudent);
            } else {
                // Ensure existing students have all new fields, or update if values changed in initial
                Object.assign(existingStudent, { ...initialStudent, ...existingStudent });
            }
        });
        saveToLocalStorage(STUDENTS_KEY, studentsData); // Save combined data back

        const initialRequests = [
            { studentName: 'Vihan', text: 'Sir, I am unable to access the link for the last assignment.', timestamp: new Date('2025-06-25T10:30:00').toISOString() },
            { studentName: 'Pranav', text: 'I have a doubt in the 3rd question of the mid-term paper. Can we discuss this?', timestamp: new Date('2025-06-26T09:15:00').toISOString() },
        ];

        let attendance = JSON.parse(localStorage.getItem(ATTENDANCE_KEY)) || {};
        let helpRequests = JSON.parse(localStorage.getItem(REQUESTS_KEY)) || initialRequests;
        let announcements = JSON.parse(localStorage.getItem(ANNOUNCEMENTS_KEY)) || [];
        let events = JSON.parse(localStorage.getItem(EVENTS_KEY)) || [];
        let certificates = JSON.parse(localStorage.getItem(CERTIFICATES_KEY)) || [];
        let notices = JSON.parse(localStorage.getItem(NOTICES_KEY)) || [];
        let publishedAssignments = JSON.parse(localStorage.getItem(ASSIGNMENTS_KEY)) || [];
        let studentMarks = JSON.parse(localStorage.getItem(MARKS_KEY)) || [];
        let mcqExams = JSON.parse(localStorage.getItem(MCQ_EXAMS_KEY)) || [];
        let sharedResources = JSON.parse(localStorage.getItem(RESOURCES_KEY)) || [];
        let studentFeedback = JSON.parse(localStorage.getItem(FEEDBACK_KEY)) || [];

        // --- Theme Toggle ---
        themeToggle.addEventListener('click', () => {
            const currentTheme = document.documentElement.classList.contains('dark') ? 'dark' : 'light';
            applyTheme(currentTheme === 'dark' ? 'light' : 'dark');
        });

        // --- Sidebar Menu Toggle (Universal) ---
        menuToggle.addEventListener('click', () => {
            sidebarMenu.classList.add('active'); // Add 'active' class to slide in
            menuOverlay.classList.remove('hidden');
        });

        closeMenu.addEventListener('click', () => {
            sidebarMenu.classList.remove('active'); // Remove 'active' class to slide out
            menuOverlay.classList.add('hidden');
        });

        menuOverlay.addEventListener('click', () => {
            sidebarMenu.classList.remove('active'); // Remove 'active' class to slide out
            menuOverlay.classList.add('hidden');
        });

        logoutBtn.addEventListener('click', (e) => {
            e.preventDefault();
            if (confirm("Are you sure you want to log out? This will clear all local data.")) {
                localStorage.clear();
                window.location.reload();
            }
        });

        // --- SPA Routing ---
        const renderView = (view) => {
            contentArea.innerHTML = '';
            sidebarMenu.classList.remove('active'); // Hide sidebar on view change
            menuOverlay.classList.add('hidden');

            let templateToLoad;
            switch (view) {
                case 'dashboard': templateToLoad = dashboardTemplate; break;
                case 'class-subject': templateToLoad = classSubjectTemplate; break;
                case 'assignment-management': templateToLoad = assignmentManagementTemplate; break;
                case 'attendance-management': templateToLoad = attendanceManagementTemplate; break;
                case 'marks-exam': templateToLoad = marksExamTemplate; break;
                case 'mcq-exam': templateToLoad = mcqExamTemplate; break;
                case 'announcements': templateToLoad = announcementsTemplate; break;
                case 'events': templateToLoad = eventsTemplate; break;
                case 'certificates': templateToLoad = certificatesTemplate; break;
                case 'notices': templateToLoad = noticesTemplate; break;
                case 'resource-sharing': templateToLoad = resourceSharingTemplate; break;
                case 'calendar': templateToLoad = calendarTemplate; break;
                case 'feedback': templateToLoad = feedbackTemplate; break;
                case 'reports-analytics': templateToLoad = reportsAnalyticsTemplate; break;
                case 'student-details': templateToLoad = studentDetailsTemplate; break;
                case 'add-update-student-details': templateToLoad = addUpdateStudentDetailsTemplate; break; // New case
                case 'profile-settings': templateToLoad = profileSettingsTemplate; break;
                default: templateToLoad = dashboardTemplate; view = 'dashboard'; break;
            }

            const viewContent = templateToLoad.content.cloneNode(true);
            contentArea.appendChild(viewContent);
            
            initializeView(view);
        };

        const initializeView = (view) => {
            if (view === 'dashboard') {
                helpRequestList = document.getElementById('help-request-list');
                totalClassesTodayDisplay = document.getElementById('total-classes-today');
                pendingAssignmentsDisplay = document.getElementById('pending-assignments');
                recentNotificationsDisplay = document.getElementById('recent-notifications');
                upcomingEventsDisplay = document.getElementById('upcoming-events');
                renderHelpRequests();
                updateDashboardOverview();
            } else if (view === 'class-subject') {
                syllabusUploadInput = document.getElementById('syllabus-upload');
                lessonProgressSelect = document.getElementById('lesson-progress');
                markProgressBtn = document.getElementById('mark-progress-btn');
                progressFeedback = document.getElementById('progress-feedback');
                attachClassSubjectListeners();
            } else if (view === 'assignment-management') {
                newAssignmentTitleInput = document.getElementById('new-assignment-title');
                newAssignmentFileInput = document.getElementById('new-assignment-file');
                newAssignmentDescriptionInput = document.getElementById('new-assignment-description');
                newAssignmentDeadlineInput = document.getElementById('new-assignment-deadline');
                addAssignmentBtn = document.getElementById('add-assignment-btn');
                assignmentFeedback = document.getElementById('assignment-feedback');
                publishedAssignmentsList = document.getElementById('published-assignments-list');
                noPublishedAssignmentsMessage = document.getElementById('no-published-assignments');
                renderPublishedAssignments();
                attachAssignmentListeners();
            } else if (view === 'attendance-management') {
                attendanceDateInput = document.getElementById('attendance-date');
                studentListContainer = document.getElementById('student-list');
                submitAttendanceBtn = document.getElementById('submit-attendance');
                attendanceFeedback = document.getElementById('attendance-feedback');
                downloadAttendanceReportBtn = document.getElementById('download-attendance-report');
                renderStudentListForAttendance();
                attachAttendanceListeners();
            } else if (view === 'marks-exam') {
                examTypeInput = document.getElementById('exam-type');
                subjectForMarksInput = document.getElementById('subject-for-marks');
                marksCsvInput = document.getElementById('marks-csv');
                uploadMarksBtn = document.getElementById('upload-marks-btn');
                marksFeedback = document.getElementById('marks-feedback');
                marksTableBody = document.getElementById('marks-table-body');
                noMarksMessage = document.getElementById('no-marks-message');
                exportMarksBtn = document.getElementById('export-marks-btn');
                renderStudentMarks();
                attachMarksExamListeners();
            } else if (view === 'mcq-exam') {
                weeklyTestNameInput = document.getElementById('weekly-test-name');
                weeklyTestSubjectInput = document.getElementById('weekly-test-subject');
                weeklyTestDateInput = document.getElementById('weekly-test-date');
                weeklyTestMarksCsvInput = document.getElementById('weekly-test-marks-csv');
                addWeeklyTestBtn = document.getElementById('add-weekly-test-btn');
                weeklyTestFeedback = document.getElementById('weekly-test-feedback');
                weeklyTestsTableBody = document.getElementById('weekly-tests-table-body');
                noWeeklyTestsMessage = document.getElementById('no-weekly-tests-message');
                renderMcqExams();
                attachMcqExamListeners();
            } else if (view === 'announcements') {
                announcementTitleInput = document.getElementById('announcement-title');
                announcementContentInput = document.getElementById('announcement-content');
                announcementImportantCheckbox = document.getElementById('announcement-important');
                addAnnouncementBtn = document.getElementById('add-announcement-btn');
                announcementFeedback = document.getElementById('announcement-feedback');
                announcementsList = document.getElementById('announcements-list');
                noAnnouncementsMessage = document.getElementById('no-announcements-message');
                renderAnnouncements();
                attachAnnouncementListeners();
            } else if (view === 'events') {
                eventTitleInput = document.getElementById('event-title');
                eventDateInput = document.getElementById('event-date');
                eventDescriptionInput = document.getElementById('event-description');
                addEventBtn = document.getElementById('add-event-btn');
                eventFeedback = document.getElementById('event-feedback');
                eventsList = document.getElementById('events-list');
                noEventsMessage = document.getElementById('no-events-message');
                renderEvents();
                attachEventListeners();
            } else if (view === 'certificates') {
                certificateStudentInput = document.getElementById('certificate-student');
                certificateTypeInput = document.getElementById('certificate-type');
                certificateDateInput = document.getElementById('certificate-date');
                issueCertificateBtn = document.getElementById('issue-certificate-btn');
                certificateFeedback = document.getElementById('certificate-feedback');
                certificatesList = document.getElementById('certificates-list');
                noCertificatesMessage = document.getElementById('no-certificates-message');
                renderCertificates();
                attachCertificateListeners();
            } else if (view === 'notices') {
                noticeTitleInput = document.getElementById('notice-title');
                noticeContentInput = document.getElementById('notice-content');
                addNoticeBtn = document.getElementById('add-notice-btn');
                noticeFeedback = document.getElementById('notice-feedback');
                noticesList = document.getElementById('notices-list');
                noNoticesMessage = document.getElementById('no-notices-message');
                renderNotices();
                attachNoticeListeners();
            } else if (view === 'resource-sharing') {
                resourceTitleInput = document.getElementById('resource-title');
                resourceFileInput = document.getElementById('resource-file');
                resourceLinkInput = document.getElementById('resource-link');
                resourceSubjectInput = document.getElementById('resource-subject');
                addResourceBtn = document.getElementById('add-resource-btn');
                resourceFeedback = document.getElementById('resource-feedback');
                resourcesList = document.getElementById('resources-list');
                noResourcesMessage = document.getElementById('no-resources-message');
                renderSharedResources();
                attachResourceSharingListeners();
            } else if (view === 'calendar') {
                calendarDisplay = document.getElementById('calendar-display');
                renderCalendar();
            } else if (view === 'feedback') {
                feedbackStudentNameInput = document.getElementById('feedback-student-name');
                feedbackCategorySelect = document.getElementById('feedback-category');
                feedbackContentTextarea = document.getElementById('feedback-content');
                submitFeedbackBtn = document.getElementById('submit-feedback-btn');
                feedbackMessage = document.getElementById('feedback-message');
                feedbackList = document.getElementById('feedback-list');
                noFeedbackMessage = document.getElementById('no-feedback-message');
                renderFeedback();
                attachFeedbackListeners();
            } else if (view === 'reports-analytics') {
                dashboardAttendancePresent = document.getElementById('dashboard-attendance-present');
                dashboardTotalMarks = document.getElementById('dashboard-total-marks');
                dashboardAverageMark = document.getElementById('dashboard-average-mark');
                dashboardTotalAssignments = document.getElementById('dashboard-total-assignments');
                dashboardAssignmentsPendingReview = document.getElementById('dashboard-assignments-pending-review');
                updateReportsAnalytics();
            } else if (view === 'student-details') {
                studentDetailsList = document.getElementById('student-details-list');
                noStudentsMessage = document.getElementById('no-students-message');
                renderStudentDetails();
                attachStudentDetailsListeners();
            } else if (view === 'add-update-student-details') { // New initialization block
                studentForm = document.getElementById('student-form');
                studentEnrollmentIdInput = document.getElementById('student-enrollment-id');
                studentNameInput = document.getElementById('student-name-input');
                studentFatherNameInput = document.getElementById('student-father-name');
                studentAddressStreetInput = document.getElementById('student-address-street');
                studentAddressCityInput = document.getElementById('student-address-city');
                studentAddressStateInput = document.getElementById('student-address-state');
                studentMobileNumberInput = document.getElementById('student-mobile-number');
                parentMobileNumberInput = document.getElementById('parent-mobile-number');
                profilePictureUploadInput = document.getElementById('profile-picture-upload');
                profilePicturePreview = document.getElementById('profile-picture-preview');
                submitStudentDetailsBtn = document.getElementById('submit-student-details-btn');
                studentFormFeedback = document.getElementById('student-form-feedback');
                findStudentEnrollmentInput = document.getElementById('find-student-enrollment');
                findStudentBtn = document.getElementById('find-student-btn');
                findStudentFeedback = document.getElementById('find-student-feedback');
                attachAddUpdateStudentListeners();
                resetStudentForm(); // Clear form on load
            }
            else if (view === 'profile-settings') {
                profileNameInput = document.getElementById('profile-name');
                profileEmailInput = document.getElementById('profile-email');
                updateProfileBtn = document.getElementById('update-profile-btn');
                profileFeedback = document.getElementById('profile-feedback');
                currentPasswordInput = document.getElementById('current-password');
                newPasswordInput = document.getElementById('new-password');
                confirmNewPasswordInput = document.getElementById('confirm-new-password');
                changePasswordBtn = document.getElementById('change-password-btn');
                passwordFeedback = document.getElementById('password-feedback');
                attachProfileSettingsListeners();
            }
        };

        const handleHashChange = () => {
            const hash = window.location.hash.substring(1);
            const validRoutes = [
                'dashboard', 'class-subject', 'assignment-management', 'attendance-management',
                'marks-exam', 'mcq-exam', 'announcements', 'events', 'certificates', 'notices',
                'resource-sharing', 'calendar', 'feedback', 'reports-analytics', 'student-details',
                'add-update-student-details', // Add new route
                'profile-settings'
            ];
            if (validRoutes.includes(hash)) {
                renderView(hash);
            } else {
                // If hash is invalid or not found, default to dashboard
                window.location.hash = '#dashboard';
                renderView('dashboard');
            }
        };

        navLinks.forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                const targetView = e.currentTarget.getAttribute('data-target');
                window.location.hash = `#${targetView}`;
            });
        });

        window.addEventListener('hashchange', handleHashChange);

        // --- Dashboard Functions ---
        const updateDashboardOverview = () => {
            if (totalClassesTodayDisplay) totalClassesTodayDisplay.textContent = '3'; // Dummy value
            if (pendingAssignmentsDisplay) pendingAssignmentsDisplay.textContent = publishedAssignments.filter(a => !a.reviewed).length;
            if (recentNotificationsDisplay) recentNotificationsDisplay.textContent = notices.length + announcements.length;
            if (upcomingEventsDisplay) {
                const now = new Date();
                const upcoming = events.filter(e => new Date(e.date) >= now);
                upcomingEventsDisplay.textContent = upcoming.length;
            }
        };

        const renderHelpRequests = () => {
            if (!helpRequestList) return;
            helpRequestList.innerHTML = '';
            if (helpRequests.length === 0) {
                   helpRequestList.innerHTML = '<p class="text-gray-500 dark:text-gray-400 text-center py-4">Your inbox is clear!</p>';
                   return;
            }
            helpRequests.sort((a, b) => new Date(b.timestamp) - new Date(a.timestamp));

            helpRequests.forEach((request) => {
                const requestDiv = document.createElement('div');
                requestDiv.className = 'p-4 bg-gray-50 dark:bg-gray-700 rounded-lg border-l-4 border-yellow-400';
                requestDiv.innerHTML = `
                    <div class="flex justify-between items-start">
                        <div>
                            <p class="font-semibold text-primary-500">${request.studentName}</p>
                            <p class="mt-1 text-gray-800 dark:text-gray-200">${request.text}</p>
                            <p class="text-xs text-gray-500 dark:text-gray-400 mt-2">${new Date(request.timestamp).toLocaleString()}</p>
                        </div>
                        <button data-timestamp="${request.timestamp}" class="resolve-request-btn text-gray-400 hover:text-green-500 text-lg p-1" title="Mark as Resolved">
                            <i class="fas fa-check-circle"></i>
                        </button>
                    </div>
                `;
                helpRequestList.appendChild(requestDiv);
            });

            document.querySelectorAll('.resolve-request-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const timestampToFind = e.currentTarget.getAttribute('data-timestamp');
                    helpRequests = helpRequests.filter(req => req.timestamp !== timestampToFind);
                    saveToLocalStorage(REQUESTS_KEY, helpRequests);
                    renderHelpRequests();
                    updateDashboardOverview();
                });
            });
        };

        // --- Class & Subject Management Functions ---
        const attachClassSubjectListeners = () => {
            if (markProgressBtn) {
                markProgressBtn.addEventListener('click', () => {
                    const selectedTopic = lessonProgressSelect.value;
                    if (selectedTopic) {
                        showFeedback(progressFeedback, `Marked "${selectedTopic}" as completed!`);
                    } else {
                        showFeedback(progressFeedback, 'Please select a topic to mark progress.', true);
                    }
                });
            }
            if (syllabusUploadInput) {
                syllabusUploadInput.addEventListener('change', (e) => {
                    const file = e.target.files[0];
                    if (file) {
                        showFeedback(progressFeedback, `Syllabus file "${file.name}" uploaded successfully!`);
                    }
                });
            }
        };

        // --- Assignment Management Functions ---
        const renderPublishedAssignments = () => {
            if (!publishedAssignmentsList || !noPublishedAssignmentsMessage) return;
            publishedAssignmentsList.innerHTML = '';
            if (publishedAssignments.length === 0) {
                noPublishedAssignmentsMessage.classList.remove('hidden');
                return;
            }
            noPublishedAssignmentsMessage.classList.add('hidden');

            publishedAssignments.sort((a, b) => new Date(b.timestamp) - new Date(a.timestamp));

            publishedAssignments.forEach((assignment) => {
                const assignmentDiv = document.createElement('div');
                assignmentDiv.className = 'p-4 bg-gray-50 dark:bg-gray-700 rounded-lg border-l-4 border-blue-400';
                assignmentDiv.innerHTML = `
                    <div class="flex justify-between items-start">
                        <div>
                            <p class="font-bold text-lg text-gray-800 dark:text-gray-200">${assignment.title}</p>
                            <p class="text-sm text-gray-600 dark:text-gray-400">Deadline: ${new Date(assignment.deadline).toLocaleDateString()}</p>
                            <p class="mt-1 text-gray-700 dark:text-gray-300">${assignment.description}</p>
                            ${assignment.fileUrl ? `<p class="text-xs text-primary-500 mt-2"><a href="${assignment.fileUrl}" target="_blank" class="hover:underline"><i class="fas fa-paperclip mr-1"></i> View Assignment File</a></p>` : ''}
                            <p class="text-xs text-gray-500 dark:text-gray-400 mt-2">Published: ${new Date(assignment.timestamp).toLocaleString()}</p>
                        </div>
                        <div class="flex flex-col items-end space-y-2">
                            <label class="inline-flex items-center cursor-pointer">
                                <input type="checkbox" data-timestamp="${assignment.timestamp}" class="sr-only peer assignment-reviewed-toggle" ${assignment.reviewed ? 'checked' : ''}>
                                <div class="w-9 h-5 bg-gray-200 rounded-full peer dark:bg-gray-600 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all dark:border-gray-500 peer-checked:bg-green-600"></div>
                                <span class="ml-2 text-sm font-medium ${assignment.reviewed ? 'text-green-500' : 'text-gray-500'}">${assignment.reviewed ? 'Reviewed' : 'Pending'}</span>
                            </label>
                            <button data-timestamp="${assignment.timestamp}" class="delete-assignment-btn text-gray-400 hover:text-red-500 text-lg p-1" title="Delete Assignment">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </div>
                `;
                publishedAssignmentsList.appendChild(assignmentDiv);
            });

            document.querySelectorAll('.delete-assignment-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const timestampToFind = e.currentTarget.getAttribute('data-timestamp');
                    publishedAssignments = publishedAssignments.filter(a => a.timestamp !== timestampToFind);
                    saveToLocalStorage(ASSIGNMENTS_KEY, publishedAssignments);
                    renderPublishedAssignments();
                    showFeedback(assignmentFeedback, 'Assignment deleted.');
                    updateDashboardOverview();
                });
            });

            document.querySelectorAll('.assignment-reviewed-toggle').forEach(toggle => {
                toggle.addEventListener('change', (e) => {
                    const timestampToFind = e.target.getAttribute('data-timestamp');
                    const assignment = publishedAssignments.find(a => a.timestamp === timestampToFind);
                    if (assignment) {
                        assignment.reviewed = e.target.checked;
                        saveToLocalStorage(ASSIGNMENTS_KEY, publishedAssignments);
                        renderPublishedAssignments();
                        updateDashboardOverview();
                        showFeedback(assignmentFeedback, `Assignment status updated to: ${e.target.checked ? 'Reviewed' : 'Pending'}.`);
                    }
                });
            });
        };

        const attachAssignmentListeners = () => {
            if (addAssignmentBtn) {
                addAssignmentBtn.addEventListener('click', () => {
                    const title = newAssignmentTitleInput.value.trim();
                    const description = newAssignmentDescriptionInput.value.trim();
                    const deadline = newAssignmentDeadlineInput.value;
                    const file = newAssignmentFileInput.files[0];
                    let fileUrl = '';

                    if (file) {
                        fileUrl = URL.createObjectURL(file);
                    }

                    if (title && description && deadline) {
                        const newAssignment = {
                            title,
                            description,
                            deadline,
                            fileUrl,
                            timestamp: new Date().toISOString(),
                            reviewed: false
                        };
                        publishedAssignments.push(newAssignment);
                        saveToLocalStorage(ASSIGNMENTS_KEY, publishedAssignments);
                        renderPublishedAssignments();
                        showFeedback(assignmentFeedback, 'Assignment published successfully!');
                        newAssignmentTitleInput.value = '';
                        newAssignmentDescriptionInput.value = '';
                        newAssignmentDeadlineInput.value = '';
                        newAssignmentFileInput.value = '';
                        updateDashboardOverview();
                    } else {
                        showFeedback(assignmentFeedback, 'Please fill in all required fields (Title, Description, Deadline).', true);
                    }
                });
            }
        };

        // --- Attendance Management Functions ---
        const renderStudentListForAttendance = () => {
            if (!studentListContainer) return;
            studentListContainer.innerHTML = '';
            const today = attendanceDateInput.value || new Date().toISOString().slice(0, 10);
            const todayAttendance = attendance[today] || {};

            studentsData.forEach(student => {
                const isPresent = todayAttendance[student.enrollment] === true;
                const studentDiv = document.createElement('div');
                studentDiv.className = 'flex items-center justify-between bg-gray-50 dark:bg-gray-700 p-3 rounded-lg';
                studentDiv.innerHTML = `
                    <div>
                        <p class="font-semibold">${student.name}</p>
                        <p class="text-xs text-gray-500 dark:text-gray-400">${student.enrollment}</p>
                    </div>
                    <label class="relative inline-flex items-center cursor-pointer">
                        <input type="checkbox" value="${student.enrollment}" class="sr-only peer attendance-toggle" ${isPresent ? 'checked' : ''}>
                        <div class="w-11 h-6 bg-gray-200 rounded-full peer dark:bg-gray-600 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-500 peer-checked:bg-primary-600"></div>
                        <span class="ml-3 text-sm font-medium attendance-status-text">${isPresent ? 'Present' : 'Absent'}</span>
                    </label>
                `;
                const toggle = studentDiv.querySelector('.attendance-toggle');
                const labelText = studentDiv.querySelector('.attendance-status-text');

                toggle.addEventListener('change', (e) => {
                    if (!attendance[today]) attendance[today] = {};
                    attendance[today][e.target.value] = e.target.checked;
                    labelText.textContent = e.target.checked ? 'Present' : 'Absent';
                });
                studentListContainer.appendChild(studentDiv);
            });
        };
        
        const attachAttendanceListeners = () => {
            const today = new Date().toISOString().slice(0, 10);
            if (attendanceDateInput) {
                attendanceDateInput.value = today;
                attendanceDateInput.addEventListener('change', renderStudentListForAttendance);
            }

            if (submitAttendanceBtn) {
                submitAttendanceBtn.addEventListener('click', () => {
                    const selectedDate = attendanceDateInput.value;
                    if (selectedDate) {
                        saveToLocalStorage(ATTENDANCE_KEY, attendance);
                        showFeedback(attendanceFeedback, `Attendance for ${selectedDate} submitted successfully!`);
                        updateReportsAnalytics();
                    } else {
                        showFeedback(attendanceFeedback, 'Please select a date for attendance.', true);
                    }
                });
            }

            if (downloadAttendanceReportBtn) {
                downloadAttendanceReportBtn.addEventListener('click', () => {
                    let csvContent = "data:text/csv;charset=utf-8,Date,Enrollment,StudentName,Status\n";
                    for (const date in attendance) {
                        for (const enrollment in attendance[date]) {
                            const student = studentsData.find(s => s.enrollment === enrollment);
                            const studentName = student ? student.name : 'Unknown';
                            const status = attendance[date][enrollment] ? 'Present' : 'Absent';
                            csvContent += `${date},${enrollment},${studentName},${status}\n`;
                        }
                    }

                    const encodedUri = encodeURI(csvContent);
                    const link = document.createElement("a");
                    link.setAttribute("href", encodedUri);
                    link.setAttribute("download", "attendance_report.csv");
                    document.body.appendChild(link);
                    link.click();
                    document.body.removeChild(link);
                    showFeedback(attendanceFeedback, 'Attendance report downloaded!');
                });
            }
        };

        // --- Marks & Exam Management Functions ---
        const renderStudentMarks = () => {
            if (!marksTableBody || !noMarksMessage) return;
            marksTableBody.innerHTML = '';

            if (studentMarks.length === 0) {
                noMarksMessage.classList.remove('hidden');
                marksTableBody.appendChild(noMarksMessage);
                return;
            }
            noMarksMessage.classList.add('hidden');

            studentMarks.sort((a, b) => new Date(b.timestamp) - new Date(a.timestamp));

            studentMarks.forEach(markEntry => {
                const student = studentsData.find(s => s.enrollment === markEntry.enrollment);
                const studentName = student ? student.name : 'Unknown';
                const row = document.createElement('tr');
                row.className = 'hover:bg-gray-50 dark:hover:bg-gray-700';
                row.innerHTML = `
                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-gray-100">${markEntry.examType}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300">${markEntry.subject}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300">${markEntry.enrollment} (${studentName})</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300">${markEntry.marks}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                        <button data-timestamp="${markEntry.timestamp}" class="delete-mark-btn text-red-600 hover:text-red-900 ml-2" title="Delete Mark">
                            <i class="fas fa-trash-alt"></i>
                        </button>
                    </td>
                `;
                marksTableBody.appendChild(row);
            });

            document.querySelectorAll('.delete-mark-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const timestampToDelete = e.currentTarget.getAttribute('data-timestamp');
                    studentMarks = studentMarks.filter(m => m.timestamp !== timestampToDelete);
                    saveToLocalStorage(MARKS_KEY, studentMarks);
                    renderStudentMarks();
                    showFeedback(marksFeedback, 'Mark entry deleted.');
                    updateReportsAnalytics();
                });
            });
        };

        const attachMarksExamListeners = () => {
            if (uploadMarksBtn) {
                uploadMarksBtn.addEventListener('click', () => {
                    const examType = examTypeInput.value.trim();
                    const subject = subjectForMarksInput.value.trim();
                    const file = marksCsvInput.files[0];

                    if (!examType || !subject) {
                        showFeedback(marksFeedback, 'Please enter Exam Type and Subject.', true);
                        return;
                    }
                    if (!file) {
                        showFeedback(marksFeedback, 'Please select a CSV file to upload marks.', true);
                        return;
                    }

                    const reader = new FileReader();
                    reader.onload = (e) => {
                        const csvText = e.target.result;
                        const lines = csvText.split('\n').filter(line => line.trim() !== '');
                        let newMarksAdded = 0;
                        lines.forEach(line => {
                            const [enrollment, marks] = line.split(',').map(s => s.trim());
                            if (enrollment && marks && !isNaN(marks)) {
                                const existingMarkIndex = studentMarks.findIndex(
                                    m => m.enrollment === enrollment && m.examType === examType && m.subject === subject
                                );

                                const newMark = {
                                    examType,
                                    subject,
                                    enrollment,
                                    marks: parseFloat(marks),
                                    timestamp: new Date().toISOString()
                                };

                                if (existingMarkIndex !== -1) {
                                    studentMarks[existingMarkIndex] = newMark;
                                } else {
                                    studentMarks.push(newMark);
                                }
                                newMarksAdded++;
                            }
                        });
                        saveToLocalStorage(MARKS_KEY, studentMarks);
                        renderStudentMarks();
                        showFeedback(marksFeedback, `Successfully uploaded/updated ${newMarksAdded} mark entries!`);
                        examTypeInput.value = '';
                        subjectForMarksInput.value = '';
                        marksCsvInput.value = '';
                        updateReportsAnalytics();
                    };
                    reader.onerror = () => {
                        showFeedback(marksFeedback, 'Error reading file.', true);
                    };
                    reader.readAsText(file);
                });
            }

            if (exportMarksBtn) {
                exportMarksBtn.addEventListener('click', () => {
                    if (studentMarks.length === 0) {
                        showFeedback(marksFeedback, 'No marks to export.', true);
                        return;
                    }
                    let csvContent = "data:text/csv;charset=utf-8,ExamType,Subject,Enrollment,StudentName,Marks\n";
                    studentMarks.forEach(mark => {
                        const student = studentsData.find(s => s.enrollment === mark.enrollment);
                        const studentName = student ? student.name : 'Unknown';
                        csvContent += `${mark.examType},${mark.subject},${mark.enrollment},${studentName},${mark.marks}\n`;
                    });

                    const encodedUri = encodeURI(csvContent);
                    const link = document.createElement("a");
                    link.setAttribute("href", encodedUri);
                    link.setAttribute("download", "all_student_marks.csv");
                    document.body.appendChild(link);
                    link.click();
                    document.body.removeChild(link);
                    showFeedback(marksFeedback, 'All marks exported to CSV!');
                });
            }
        };

        // --- MCQ Exam Functions (NEW) ---
        const renderMcqExams = () => {
            if (!weeklyTestsTableBody || !noWeeklyTestsMessage) return;
            weeklyTestsTableBody.innerHTML = '';

            if (mcqExams.length === 0) {
                noWeeklyTestsMessage.classList.remove('hidden');
                weeklyTestsTableBody.appendChild(noWeeklyTestsMessage);
                return;
            }
            noWeeklyTestsMessage.classList.add('hidden');

            mcqExams.sort((a, b) => new Date(b.timestamp) - new Date(a.timestamp));

            mcqExams.forEach(testEntry => {
                const student = studentsData.find(s => s.enrollment === testEntry.enrollment);
                const studentName = student ? student.name : 'Unknown';
                const row = document.createElement('tr');
                row.className = 'hover:bg-gray-50 dark:hover:bg-gray-700';
                row.innerHTML = `
                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-gray-100">${testEntry.testName}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300">${testEntry.subject}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300">${new Date(testEntry.testDate).toLocaleDateString()}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300">${testEntry.enrollment} (${studentName})</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300">${testEntry.score}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                        <button data-timestamp="${testEntry.timestamp}" class="delete-weekly-test-btn text-red-600 hover:text-red-900 ml-2" title="Delete Entry">
                            <i class="fas fa-trash-alt"></i>
                        </button>
                    </td>
                `;
                weeklyTestsTableBody.appendChild(row);
            });

            document.querySelectorAll('.delete-weekly-test-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const timestampToDelete = e.currentTarget.getAttribute('data-timestamp');
                    mcqExams = mcqExams.filter(t => t.timestamp !== timestampToDelete);
                    saveToLocalStorage(MCQ_EXAMS_KEY, mcqExams);
                    renderMcqExams();
                    showFeedback(weeklyTestFeedback, 'Weekly test entry deleted.');
                });
            });
        };

        const attachMcqExamListeners = () => {
            if (addWeeklyTestBtn) {
                addWeeklyTestBtn.addEventListener('click', () => {
                    const testName = weeklyTestNameInput.value.trim();
                    const subject = weeklyTestSubjectInput.value.trim();
                    const testDate = weeklyTestDateInput.value;
                    const file = weeklyTestMarksCsvInput.files[0];

                    if (!testName || !subject || !testDate) {
                        showFeedback(weeklyTestFeedback, 'Please fill in Test Name, Subject, and Test Date.', true);
                        return;
                    }
                    if (!file) {
                        showFeedback(weeklyTestFeedback, 'Please select a CSV file for scores.', true);
                        return;
                    }

                    const reader = new FileReader();
                    reader.onload = (e) => {
                        const csvText = e.target.result;
                        const lines = csvText.split('\n').filter(line => line.trim() !== '');
                        let newEntriesAdded = 0;
                        lines.forEach(line => {
                            const [enrollment, score] = line.split(',').map(s => s.trim());
                            if (enrollment && score && !isNaN(score)) {
                                const newTestEntry = {
                                    testName,
                                    subject,
                                    testDate,
                                    enrollment,
                                    score: parseFloat(score),
                                    timestamp: new Date().toISOString()
                                };
                                mcqExams.push(newTestEntry);
                                newEntriesAdded++;
                            }
                        });
                        saveToLocalStorage(MCQ_EXAMS_KEY, mcqExams);
                        renderMcqExams();
                        showFeedback(weeklyTestFeedback, `Successfully added ${newEntriesAdded} weekly test scores!`);
                        weeklyTestNameInput.value = '';
                        weeklyTestSubjectInput.value = '';
                        weeklyTestDateInput.value = '';
                        weeklyTestMarksCsvInput.value = '';
                    };
                    reader.onerror = () => {
                        showFeedback(weeklyTestFeedback, 'Error reading CSV file.', true);
                    };
                    reader.readAsText(file);
                });
            }
        };

        // --- Announcement Functions ---
        const renderAnnouncements = () => {
            if (!announcementsList || !noAnnouncementsMessage) return;
            announcementsList.innerHTML = '';
            if (announcements.length === 0) {
                noAnnouncementsMessage.classList.remove('hidden');
                return;
            }
            noAnnouncementsMessage.classList.add('hidden');

            announcements.sort((a, b) => new Date(b.timestamp) - new Date(a.timestamp));

            announcements.forEach((announcement) => {
                const announcementDiv = document.createElement('div');
                announcementDiv.className = `p-4 bg-gray-50 dark:bg-gray-700 rounded-lg border-l-4 ${announcement.important ? 'border-red-500' : 'border-blue-400'}`;
                announcementDiv.innerHTML = `
                    <div class="flex justify-between items-start">
                        <div>
                            <p class="font-bold text-lg text-gray-800 dark:text-gray-200">${announcement.title} ${announcement.important ? '<span class="text-red-500 text-sm ml-2"><i class="fas fa-exclamation-circle"></i> Important</span>' : ''}</p>
                            <p class="mt-1 text-gray-700 dark:text-gray-300">${announcement.content}</p>
                            <p class="text-xs text-gray-500 dark:text-gray-400 mt-2">${new Date(announcement.timestamp).toLocaleString()}</p>
                        </div>
                        <button data-timestamp="${announcement.timestamp}" class="delete-announcement-btn text-gray-400 hover:text-red-500 text-lg p-1" title="Delete Announcement">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                `;
                announcementsList.appendChild(announcementDiv);
            });

            document.querySelectorAll('.delete-announcement-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const timestampToFind = e.currentTarget.getAttribute('data-timestamp');
                    announcements = announcements.filter(a => a.timestamp !== timestampToFind);
                    saveToLocalStorage(ANNOUNCEMENTS_KEY, announcements);
                    renderAnnouncements();
                    showFeedback(announcementFeedback, 'Announcement deleted.');
                    updateDashboardOverview();
                });
            });
        };

        const attachAnnouncementListeners = () => {
            if (addAnnouncementBtn) {
                addAnnouncementBtn.addEventListener('click', () => {
                    const title = announcementTitleInput.value.trim();
                    const content = announcementContentInput.value.trim();
                    const important = announcementImportantCheckbox.checked;

                    if (title && content) {
                        const newAnnouncement = {
                            title,
                            content,
                            important,
                            timestamp: new Date().toISOString()
                        };
                        announcements.push(newAnnouncement);
                        saveToLocalStorage(ANNOUNCEMENTS_KEY, announcements);
                        renderAnnouncements();
                        showFeedback(announcementFeedback, 'Announcement added successfully!');
                        announcementTitleInput.value = '';
                        announcementContentInput.value = '';
                        announcementImportantCheckbox.checked = false;
                        updateDashboardOverview();
                    } else {
                        showFeedback(announcementFeedback, 'Please fill in both title and content.', true);
                    }
                });
            }
        };

        // --- New Events Functions ---
        const renderEvents = () => {
            if (!eventsList || !noEventsMessage) return;
            eventsList.innerHTML = '';
            if (events.length === 0) {
                noEventsMessage.classList.remove('hidden');
                return;
            }
            noEventsMessage.classList.add('hidden');

            events.sort((a, b) => new Date(a.date) - new Date(b.date));

            events.forEach((event) => {
                const eventDiv = document.createElement('div');
                const isPast = new Date(event.date) < new Date();
                eventDiv.className = `p-4 bg-gray-50 dark:bg-gray-700 rounded-lg border-l-4 ${isPast ? 'border-gray-500' : 'border-orange-400'}`;
                eventDiv.innerHTML = `
                    <div class="flex justify-between items-start">
                        <div>
                            <p class="font-bold text-lg text-gray-800 dark:text-gray-200">${event.title} ${isPast ? '<span class="text-gray-500 text-sm ml-2">(Past)</span>' : ''}</p>
                            <p class="text-sm text-gray-600 dark:text-gray-400"><i class="fas fa-calendar-day mr-1"></i> ${new Date(event.date).toLocaleDateString()}</p>
                            <p class="mt-1 text-gray-700 dark:text-gray-300">${event.description}</p>
                        </div>
                        <button data-timestamp="${event.timestamp}" class="delete-event-btn text-gray-400 hover:text-red-500 text-lg p-1" title="Delete Event">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                `;
                eventsList.appendChild(eventDiv);
            });

            document.querySelectorAll('.delete-event-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const timestampToFind = e.currentTarget.getAttribute('data-timestamp');
                    events = events.filter(ev => ev.timestamp !== timestampToFind);
                    saveToLocalStorage(EVENTS_KEY, events);
                    renderEvents();
                    showFeedback(eventFeedback, 'Event deleted.');
                    updateDashboardOverview();
                });
            });
        };

        const attachEventListeners = () => {
            if (addEventBtn) {
                addEventBtn.addEventListener('click', () => {
                    const title = eventTitleInput.value.trim();
                    const date = eventDateInput.value;
                    const description = eventDescriptionInput.value.trim();

                    if (title && date && description) {
                        const newEvent = {
                            title,
                            date,
                            description,
                            timestamp: new Date().toISOString()
                        };
                        events.push(newEvent);
                        saveToLocalStorage(EVENTS_KEY, events);
                        renderEvents();
                        showFeedback(eventFeedback, 'Event added successfully!');
                        eventTitleInput.value = '';
                        eventDateInput.value = '';
                        eventDescriptionInput.value = '';
                        updateDashboardOverview();
                    } else {
                        showFeedback(eventFeedback, 'Please fill in all event details.', true);
                    }
                });
            }
        };

        // --- Certificates Functions ---
        const renderCertificates = () => {
            if (!certificatesList || !noCertificatesMessage) return;
            certificatesList.innerHTML = '';
            if (certificates.length === 0) {
                noCertificatesMessage.classList.remove('hidden');
                return;
            }
            noCertificatesMessage.classList.add('hidden');

            certificates.sort((a, b) => new Date(b.issueDate) - new Date(a.issueDate));

            certificates.forEach((cert) => {
                const certDiv = document.createElement('div');
                certDiv.className = 'p-4 bg-gray-50 dark:bg-gray-700 rounded-lg border-l-4 border-teal-400';
                certDiv.innerHTML = `
                    <div class="flex justify-between items-start">
                        <div>
                            <p class="font-bold text-lg text-gray-800 dark:text-gray-200">Issued to: ${cert.studentName}</p>
                            <p class="text-sm text-gray-600 dark:text-gray-400"><i class="fas fa-certificate mr-1"></i> Type: ${cert.certificateType}</p>
                            <p class="text-xs text-gray-500 dark:text-gray-400 mt-2">Issued On: ${new Date(cert.issueDate).toLocaleDateString()}</p>
                        </div>
                        <button data-timestamp="${cert.timestamp}" class="delete-certificate-btn text-gray-400 hover:text-red-500 text-lg p-1" title="Delete Certificate Record">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                `;
                certificatesList.appendChild(certDiv);
            });

            document.querySelectorAll('.delete-certificate-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const timestampToFind = e.currentTarget.getAttribute('data-timestamp');
                    certificates = certificates.filter(c => c.timestamp !== timestampToFind);
                    saveToLocalStorage(CERTIFICATES_KEY, certificates);
                    renderCertificates();
                    showFeedback(certificateFeedback, 'Certificate record deleted.');
                });
            });
        };

        const attachCertificateListeners = () => {
            if (issueCertificateBtn) {
                issueCertificateBtn.addEventListener('click', () => {
                    const studentName = certificateStudentInput.value.trim();
                    const certificateType = certificateTypeInput.value.trim();
                    const issueDate = certificateDateInput.value;

                    if (studentName && certificateType && issueDate) {
                        const newCertificate = {
                            studentName,
                            certificateType,
                            issueDate,
                            timestamp: new Date().toISOString()
                        };
                        certificates.push(newCertificate);
                        saveToLocalStorage(CERTIFICATES_KEY, certificates);
                        renderCertificates();
                        showFeedback(certificateFeedback, 'Certificate issued successfully!');
                        certificateStudentInput.value = '';
                        certificateTypeInput.value = '';
                        certificateDateInput.value = '';
                    } else {
                        showFeedback(certificateFeedback, 'Please fill in all certificate details.', true);
                    }
                });
            }
        };

        // --- Notices Functions ---
        const renderNotices = () => {
            if (!noticesList || !noNoticesMessage) return;
            noticesList.innerHTML = '';
            if (notices.length === 0) {
                noNoticesMessage.classList.remove('hidden');
                return;
            }
            noNoticesMessage.classList.add('hidden');

            notices.sort((a, b) => new Date(b.timestamp) - new Date(a.timestamp));

            notices.forEach((notice) => {
                const noticeDiv = document.createElement('div');
                noticeDiv.className = 'p-4 bg-gray-50 dark:bg-gray-700 rounded-lg border-l-4 border-red-400';
                noticeDiv.innerHTML = `
                    <div class="flex justify-between items-start">
                        <div>
                            <p class="font-bold text-lg text-gray-800 dark:text-gray-200">${notice.title}</p>
                            <p class="mt-1 text-gray-700 dark:text-gray-300">${notice.content}</p>
                            <p class="text-xs text-gray-500 dark:text-gray-400 mt-2">${new Date(notice.timestamp).toLocaleString()}</p>
                        </div>
                        <button data-timestamp="${notice.timestamp}" class="delete-notice-btn text-gray-400 hover:text-red-500 text-lg p-1" title="Delete Notice">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                `;
                noticesList.appendChild(noticeDiv);
            });

            document.querySelectorAll('.delete-notice-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const timestampToFind = e.currentTarget.getAttribute('data-timestamp');
                    notices = notices.filter(n => n.timestamp !== timestampToFind);
                    saveToLocalStorage(NOTICES_KEY, notices);
                    renderNotices();
                    showFeedback(noticeFeedback, 'Notice deleted.');
                    updateDashboardOverview();
                });
            });
        };

        const attachNoticeListeners = () => {
            if (addNoticeBtn) {
                addNoticeBtn.addEventListener('click', () => {
                    const title = noticeTitleInput.value.trim();
                    const content = noticeContentInput.value.trim();

                    if (title && content) {
                        const newNotice = {
                            title,
                            content,
                            timestamp: new Date().toISOString()
                        };
                        notices.push(newNotice);
                        saveToLocalStorage(NOTICES_KEY, notices);
                        renderNotices();
                        showFeedback(noticeFeedback, 'Notice published successfully!');
                        noticeTitleInput.value = '';
                        noticeContentInput.value = '';
                        updateDashboardOverview();
                    } else {
                        showFeedback(noticeFeedback, 'Please fill in both title and content.', true);
                    }
                });
            }
        };

        // --- Resource Sharing Functions ---
        const renderSharedResources = () => {
            if (!resourcesList || !noResourcesMessage) return;
            resourcesList.innerHTML = '';
            if (sharedResources.length === 0) {
                noResourcesMessage.classList.remove('hidden');
                return;
            }
            noResourcesMessage.classList.add('hidden');

            sharedResources.sort((a, b) => new Date(b.timestamp) - new Date(a.timestamp));

            sharedResources.forEach((resource) => {
                const resourceDiv = document.createElement('div');
                resourceDiv.className = 'p-4 bg-gray-50 dark:bg-gray-700 rounded-lg border-l-4 border-orange-400';
                resourceDiv.innerHTML = `
                    <div class="flex justify-between items-start">
                        <div>
                            <p class="font-bold text-lg text-gray-800 dark:text-gray-200">${resource.title}</p>
                            ${resource.subject ? `<p class="text-sm text-gray-600 dark:text-gray-400">Subject/Topic: ${resource.subject}</p>` : ''}
                            ${resource.fileUrl ? `<p class="text-xs text-primary-500 mt-1"><a href="${resource.fileUrl}" target="_blank" class="hover:underline"><i class="fas fa-file-alt mr-1"></i> View File</a></p>` : ''}
                            ${resource.externalLink ? `<p class="text-xs text-primary-500 mt-1"><a href="${resource.externalLink}" target="_blank" class="hover:underline"><i class="fas fa-link mr-1"></i> External Link</a></p>` : ''}
                            <p class="text-xs text-gray-500 dark:text-gray-400 mt-2">Shared: ${new Date(resource.timestamp).toLocaleString()}</p>
                        </div>
                        <button data-timestamp="${resource.timestamp}" class="delete-resource-btn text-gray-400 hover:text-red-500 text-lg p-1" title="Delete Resource">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                `;
                resourcesList.appendChild(resourceDiv);
            });

            document.querySelectorAll('.delete-resource-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const timestampToFind = e.currentTarget.getAttribute('data-timestamp');
                    sharedResources = sharedResources.filter(r => r.timestamp !== timestampToFind);
                    saveToLocalStorage(RESOURCES_KEY, sharedResources);
                    renderSharedResources();
                    showFeedback(resourceFeedback, 'Resource deleted.');
                });
            });
        };

        const attachResourceSharingListeners = () => {
            if (addResourceBtn) {
                addResourceBtn.addEventListener('click', () => {
                    const title = resourceTitleInput.value.trim();
                    const file = resourceFileInput.files[0];
                    const externalLink = resourceLinkInput.value.trim();
                    const subject = resourceSubjectInput.value.trim();
                    let fileUrl = '';

                    if (file) {
                        fileUrl = URL.createObjectURL(file);
                    }

                    if (title && (file || externalLink)) {
                        const newResource = {
                            title,
                            fileUrl,
                            externalLink,
                            subject,
                            timestamp: new Date().toISOString()
                        };
                        sharedResources.push(newResource);
                        saveToLocalStorage(RESOURCES_KEY, sharedResources);
                        renderSharedResources();
                        showFeedback(resourceFeedback, 'Resource shared successfully!');
                        resourceTitleInput.value = '';
                        resourceFileInput.value = '';
                        resourceLinkInput.value = '';
                        resourceSubjectInput.value = '';
                    } else {
                        showFeedback(resourceFeedback, 'Please enter a title and either upload a file or provide an external link.', true);
                    }
                });
            }
        };

        // --- Calendar Functions ---
        const renderCalendar = () => {
            if (!calendarDisplay) return;

            const today = new Date();
            const currentMonth = today.getMonth();
            const currentYear = today.getFullYear();
            const daysInMonth = new Date(currentYear, currentMonth + 1, 0).getDate();
            const firstDayOfMonth = new Date(currentYear, currentMonth, 1).getDay();

            let daysHtml = '';
            // Adjust for Monday start (0=Sunday, 1=Monday... so if firstDay is Sunday, shift by 6; else shift by firstDay-1)
            for (let i = 0; i < (firstDayOfMonth === 0 ? 6 : firstDayOfMonth - 1); i++) {
                daysHtml += '<div></div>';
            }

            for (let day = 1; day <= daysInMonth; day++) {
                const dateString = `${currentYear}-${String(currentMonth + 1).padStart(2, '0')}-${String(day).padStart(2, '0')}`;
                const isEventDay = events.some(event => event.date === dateString);
                const isToday = day === today.getDate() && currentMonth === today.getMonth() && currentYear === today.getFullYear();

                let classes = 'p-2 rounded-full text-center';
                if (isToday) {
                    classes += ' bg-primary-600 text-white font-bold';
                } else if (isEventDay) {
                    classes += ' bg-orange-200 dark:bg-orange-700 text-orange-800 dark:text-orange-200 font-semibold';
                } else {
                    classes += ' bg-gray-100 dark:bg-gray-700';
                }

                daysHtml += `<div class="${classes}">${day}${isEventDay ? ' <i class="fas fa-calendar-check text-xs"></i>' : ''}</div>`;
            }

            calendarDisplay.innerHTML = `
                <p class="text-lg font-bold">${new Date(currentYear, currentMonth).toLocaleString('default', { month: 'long', year: 'numeric' })}</p>
                <div class="grid grid-cols-7 gap-2 mt-4 text-sm font-medium text-gray-500 dark:text-gray-400">
                    <div>Mon</div><div>Tue</div><div>Wed</div><div>Thu</div><div>Fri</div><div>Sat</div><div>Sun</div>
                </div>
                <div class="grid grid-cols-7 gap-2 mt-2">
                    ${daysHtml}
                </div>
                <p class="text-sm text-gray-500 dark:text-gray-400 mt-4">Orange highlights indicate events. Blue highlights indicate today.</p>
            `;
        };

        // --- Feedback System Functions ---
        const renderFeedback = () => {
            if (!feedbackList || !noFeedbackMessage) return;
            feedbackList.innerHTML = '';
            if (studentFeedback.length === 0) {
                noFeedbackMessage.classList.remove('hidden');
                return;
            }
            noFeedbackMessage.classList.add('hidden');

            studentFeedback.sort((a, b) => new Date(b.timestamp) - new Date(a.timestamp));

            studentFeedback.forEach((feedback) => {
                const feedbackDiv = document.createElement('div');
                feedbackDiv.className = 'p-4 bg-gray-50 dark:bg-gray-700 rounded-lg border-l-4 border-blue-400';
                feedbackDiv.innerHTML = `
                    <div class="flex justify-between items-start">
                        <div>
                            <p class="font-bold text-lg text-gray-800 dark:text-gray-200">To: ${feedback.studentName}</p>
                            <p class="text-sm text-gray-600 dark:text-gray-400">Category: ${feedback.category}</p>
                            <p class="mt-1 text-gray-700 dark:text-gray-300">${feedback.content}</p>
                            <p class="text-xs text-gray-500 dark:text-gray-400 mt-2">Given: ${new Date(feedback.timestamp).toLocaleString()}</p>
                        </div>
                        <button data-timestamp="${feedback.timestamp}" class="delete-feedback-btn text-gray-400 hover:text-red-500 text-lg p-1" title="Delete Feedback">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                `;
                feedbackList.appendChild(feedbackDiv);
            });

            document.querySelectorAll('.delete-feedback-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const timestampToDelete = e.currentTarget.getAttribute('data-timestamp');
                    studentFeedback = studentFeedback.filter(f => f.timestamp !== timestampToDelete);
                    saveToLocalStorage(FEEDBACK_KEY, studentFeedback);
                    renderFeedback();
                    showFeedback(feedbackMessage, 'Feedback deleted.');
                });
            });
        };

        const attachFeedbackListeners = () => {
            if (submitFeedbackBtn) {
                submitFeedbackBtn.addEventListener('click', () => {
                    const studentName = feedbackStudentNameInput.value.trim();
                    const category = feedbackCategorySelect.value;
                    const content = feedbackContentTextarea.value.trim();

                    if (studentName && category && content) {
                        const newFeedback = {
                            studentName,
                            category,
                            content,
                            timestamp: new Date().toISOString()
                        };
                        studentFeedback.push(newFeedback);
                        saveToLocalStorage(FEEDBACK_KEY, studentFeedback);
                        renderFeedback();
                        showFeedback(feedbackMessage, 'Feedback submitted successfully!');
                        feedbackStudentNameInput.value = '';
                        feedbackCategorySelect.value = '';
                        feedbackContentTextarea.value = '';
                    } else {
                        showFeedback(feedbackMessage, 'Please fill in all feedback details.', true);
                    }
                });
            }
        };

        // --- Reports & Analytics Functions ---
        const updateReportsAnalytics = () => {
            if (dashboardAttendancePresent) {
                const today = new Date().toISOString().slice(0, 10);
                const todayAttendance = attendance[today] || {};
                const presentCount = Object.values(todayAttendance).filter(status => status === true).length;
                dashboardAttendancePresent.textContent = presentCount;
            }

            if (dashboardTotalMarks) dashboardTotalMarks.textContent = studentMarks.length;
            if (dashboardAverageMark) {
                if (studentMarks.length > 0) {
                    const totalMarks = studentMarks.reduce((sum, entry) => sum + entry.marks, 0);
                    const average = totalMarks / studentMarks.length;
                    dashboardAverageMark.textContent = average.toFixed(2);
                } else {
                    dashboardAverageMark.textContent = 'N/A';
                }
            }

            if (dashboardTotalAssignments) dashboardTotalAssignments.textContent = publishedAssignments.length;
            if (dashboardAssignmentsPendingReview) dashboardAssignmentsPendingReview.textContent = publishedAssignments.filter(a => !a.reviewed).length;
        };

        // --- Student Details Functions ---
        const renderStudentDetails = () => {
            if (!studentDetailsList || !noStudentsMessage) return;
            studentDetailsList.innerHTML = '';
            if (studentsData.length === 0) {
                noStudentsMessage.classList.remove('hidden');
                return;
            }
            noStudentsMessage.classList.add('hidden');

            studentsData.sort((a, b) => a.name.localeCompare(b.name));

            studentsData.forEach(student => {
                const studentDiv = document.createElement('div');
                studentDiv.className = 'bg-gray-50 dark:bg-gray-700 p-4 rounded-lg shadow-sm flex flex-col sm:flex-row items-center sm:items-start gap-4';
                studentDiv.innerHTML = `
                    <img src="${student.profilePicUrl || 'https://placehold.co/80x80/cccccc/000000?text=NA'}" alt="${student.name}'s Profile" class="w-16 h-16 rounded-full object-cover">
                    <div class="flex-grow grid grid-cols-1 md:grid-cols-2 gap-x-4 gap-y-2 w-full">
                        <div>
                            <label class="block text-xs font-medium text-gray-500 dark:text-gray-400">Name</label>
                            <input type="text" value="${student.name}" data-field="name" data-enrollment="${student.enrollment}" class="student-detail-input w-full p-1 border border-gray-300 dark:border-gray-600 rounded-md bg-transparent focus:ring-primary-500 focus:border-primary-500">
                        </div>
                        <div>
                            <label class="block text-xs font-medium text-gray-500 dark:text-gray-400">Enrollment ID</label>
                            <input type="text" value="${student.enrollment}" data-field="enrollment" readonly class="w-full p-1 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300 cursor-not-allowed">
                        </div>
                        <div>
                            <label class="block text-xs font-medium text-gray-500 dark:text-gray-400">Father's Name</label>
                            <input type="text" value="${student.fatherName || ''}" data-field="fatherName" data-enrollment="${student.enrollment}" class="student-detail-input w-full p-1 border border-gray-300 dark:border-gray-600 rounded-md bg-transparent focus:ring-primary-500 focus:border-primary-500">
                        </div>
                        <div>
                            <label class="block text-xs font-medium text-gray-500 dark:text-gray-400">Student Mobile</label>
                            <input type="tel" value="${student.phoneNumber || ''}" data-field="phoneNumber" data-enrollment="${student.enrollment}" class="student-detail-input w-full p-1 border border-gray-300 dark:border-gray-600 rounded-md bg-transparent focus:ring-primary-500 focus:border-primary-500">
                        </div>
                        <div>
                            <label class="block text-xs font-medium text-gray-500 dark:text-gray-400">Parent Mobile</label>
                            <input type="tel" value="${student.parentPhoneNumber || ''}" data-field="parentPhoneNumber" data-enrollment="${student.enrollment}" class="student-detail-input w-full p-1 border border-gray-300 dark:border-gray-600 rounded-md bg-transparent focus:ring-primary-500 focus:border-primary-500">
                        </div>
                        <div class="md:col-span-2">
                            <label class="block text-xs font-medium text-gray-500 dark:text-gray-400">Address (Street)</label>
                            <input type="text" value="${student.addressStreet || ''}" data-field="addressStreet" data-enrollment="${student.enrollment}" class="student-detail-input w-full p-1 border border-gray-300 dark:border-gray-600 rounded-md bg-transparent focus:ring-primary-500 focus:border-primary-500">
                        </div>
                        <div>
                            <label class="block text-xs font-medium text-gray-500 dark:text-gray-400">Address (City)</label>
                            <input type="text" value="${student.addressCity || ''}" data-field="addressCity" data-enrollment="${student.enrollment}" class="student-detail-input w-full p-1 border border-gray-300 dark:border-gray-600 rounded-md bg-transparent focus:ring-primary-500 focus:border-primary-500">
                        </div>
                        <div>
                            <label class="block text-xs font-medium text-gray-500 dark:text-gray-400">Address (State)</label>
                            <input type="text" value="${student.addressState || ''}" data-field="addressState" data-enrollment="${student.enrollment}" class="student-detail-input w-full p-1 border border-gray-300 dark:border-gray-600 rounded-md bg-transparent focus:ring-primary-500 focus:border-primary-500">
                        </div>
                        <div class="md:col-span-2 flex justify-end">
                            <button data-enrollment="${student.enrollment}" class="save-student-details-btn mt-2 bg-primary-600 text-white font-bold py-1 px-3 rounded-lg hover:bg-primary-700 text-sm">Save Changes</button>
                        </div>
                    </div>
                `;
                studentDetailsList.appendChild(studentDiv);
            });
        };

        const attachStudentDetailsListeners = () => {
            if (studentDetailsList) {
                studentDetailsList.querySelectorAll('.save-student-details-btn').forEach(button => {
                    button.addEventListener('click', (e) => {
                        const enrollmentToUpdate = e.target.getAttribute('data-enrollment');
                        const studentIndex = studentsData.findIndex(s => s.enrollment === enrollmentToUpdate);

                        if (studentIndex !== -1) {
                            const studentDiv = e.target.closest('.bg-gray-50');
                            const inputs = studentDiv.querySelectorAll('.student-detail-input');
                            let updated = false;

                            inputs.forEach(input => {
                                const field = input.getAttribute('data-field');
                                if (studentsData[studentIndex][field] !== input.value) {
                                    studentsData[studentIndex][field] = input.value;
                                    updated = true;
                                }
                            });

                            if (updated) {
                                saveToLocalStorage(STUDENTS_KEY, studentsData);
                                showFeedback(e.target, 'Student details updated!', false);
                                renderStudentDetails(); // Re-render to reflect potential name changes affecting sort order
                            } else {
                                showFeedback(e.target, 'No changes detected.', true);
                            }
                        }
                    });
                });
            }
        };

        // --- Add/Update Student Details Functions (NEW) ---
        const generateEnrollmentId = () => {
            const currentYear = new Date().getFullYear().toString().slice(-2);
            const departmentCode = 'DS'; // Data Science
            const existingEnrollments = studentsData.map(s => s.enrollment);
            let nextIdNum = 1;
            while (existingEnrollments.includes(`0101DS${currentYear}${String(nextIdNum).padStart(4, '0')}`)) {
                nextIdNum++;
            }
            return `0101${departmentCode}${currentYear}${String(nextIdNum).padStart(4, '0')}`;
        };

        const resetStudentForm = () => {
            studentForm.reset();
            studentEnrollmentIdInput.value = 'Will be generated'; // Reset to default placeholder
            submitStudentDetailsBtn.textContent = 'Add New Student'; // Default button text
            profilePicturePreview.src = 'https://placehold.co/80x80/cccccc/000000?text=Preview';
            profilePicturePreview.classList.add('hidden');
        };

        const attachAddUpdateStudentListeners = () => {
            if (studentForm) {
                profilePictureUploadInput.addEventListener('change', (e) => {
                    const file = e.target.files[0];
                    if (file) {
                        const reader = new FileReader();
                        reader.onload = (e) => {
                            profilePicturePreview.src = e.target.result;
                            profilePicturePreview.classList.remove('hidden');
                        };
                        reader.readAsDataURL(file);
                    } else {
                        profilePicturePreview.src = 'https://placehold.co/80x80/cccccc/000000?text=Preview';
                        profilePicturePreview.classList.add('hidden');
                    }
                });

                studentForm.addEventListener('submit', (e) => {
                    e.preventDefault();

                    const isUpdate = submitStudentDetailsBtn.textContent === 'Update Student';
                    const enrollment = isUpdate ? studentEnrollmentIdInput.value : generateEnrollmentId();
                    const name = studentNameInput.value.trim();
                    const fatherName = studentFatherNameInput.value.trim();
                    const addressStreet = studentAddressStreetInput.value.trim();
                    const addressCity = studentAddressCityInput.value.trim();
                    const addressState = studentAddressStateInput.value.trim();
                    const phoneNumber = studentMobileNumberInput.value.trim();
                    const parentPhoneNumber = parentMobileNumberInput.value.trim();
                    const profilePicUrl = profilePicturePreview.src !== 'https://placehold.co/80x80/cccccc/000000?text=Preview' ? profilePicturePreview.src : ''; // Capture current preview image

                    if (!name) {
                        showFeedback(studentFormFeedback, 'Student Name is required.', true);
                        return;
                    }

                    const newStudent = {
                        enrollment,
                        name,
                        fatherName,
                        addressStreet,
                        addressCity,
                        addressState,
                        phoneNumber,
                        parentPhoneNumber,
                        profilePicUrl
                    };

                    if (isUpdate) {
                        const index = studentsData.findIndex(s => s.enrollment === enrollment);
                        if (index !== -1) {
                            studentsData[index] = newStudent;
                            showFeedback(studentFormFeedback, `Student ${name} (ID: ${enrollment}) updated successfully!`);
                        } else {
                            showFeedback(studentFormFeedback, 'Student not found for update.', true);
                        }
                    } else {
                        // Check if enrollment already exists (shouldn't if generateEnrollmentId is robust, but good for safety)
                        if (studentsData.some(s => s.enrollment === enrollment)) {
                            showFeedback(studentFormFeedback, `Enrollment ID ${enrollment} already exists. Please try again.`, true);
                            return;
                        }
                        studentsData.push(newStudent);
                        showFeedback(studentFormFeedback, `New student ${name} (ID: ${enrollment}) added successfully!`);
                    }

                    saveToLocalStorage(STUDENTS_KEY, studentsData);
                    resetStudentForm();
                });

                findStudentBtn.addEventListener('click', () => {
                    const searchEnrollment = findStudentEnrollmentInput.value.trim();
                    if (!searchEnrollment) {
                        showFeedback(findStudentFeedback, 'Please enter an Enrollment ID.', true);
                        return;
                    }

                    const foundStudent = studentsData.find(s => s.enrollment === searchEnrollment);
                    if (foundStudent) {
                        studentEnrollmentIdInput.value = foundStudent.enrollment;
                        studentNameInput.value = foundStudent.name;
                        studentFatherNameInput.value = foundStudent.fatherName || '';
                        studentAddressStreetInput.value = foundStudent.addressStreet || '';
                        studentAddressCityInput.value = foundStudent.addressCity || '';
                        studentAddressStateInput.value = foundStudent.addressState || '';
                        studentMobileNumberInput.value = foundStudent.phoneNumber || '';
                        parentMobileNumberInput.value = foundStudent.parentPhoneNumber || '';
                        profilePicturePreview.src = foundStudent.profilePicUrl || 'https://placehold.co/80x80/cccccc/000000?text=Preview';
                        profilePicturePreview.classList.remove('hidden');
                        submitStudentDetailsBtn.textContent = 'Update Student';
                        showFeedback(findStudentFeedback, `Found student ${foundStudent.name}. You can now update their details.`, false);
                    } else {
                        resetStudentForm();
                        showFeedback(findStudentFeedback, 'Student with this Enrollment ID not found.', true);
                        submitStudentDetailsBtn.textContent = 'Add New Student'; // Ensure button resets to add mode
                    }
                });
            }
        };

        // --- Profile & Settings Functions ---
        const attachProfileSettingsListeners = () => {
            if (updateProfileBtn) {
                updateProfileBtn.addEventListener('click', () => {
                    showFeedback(profileFeedback, 'Profile updated successfully!');
                });
            }

            if (changePasswordBtn) {
                changePasswordBtn.addEventListener('click', () => {
                    const currentPass = currentPasswordInput.value;
                    const newPass = newPasswordInput.value;
                    const confirmNewPass = confirmNewPasswordInput.value;

                    if (!currentPass || !newPass || !confirmNewPass) {
                        showFeedback(passwordFeedback, 'All password fields are required.', true);
                        return;
                    }
                    if (newPass !== confirmNewPass) {
                        showFeedback(passwordFeedback, 'New passwords do not match.', true);
                        return;
                    }
                    if (newPass.length < 6) {
                        showFeedback(passwordFeedback, 'New password must be at least 6 characters long.', true);
                        return;
                    }

                    showFeedback(passwordFeedback, 'Password changed successfully!');
                    currentPasswordInput.value = '';
                    newPasswordInput.value = '';
                    confirmNewPasswordInput.value = '';
                });
            }
        };

        // --- Initialization ---
         const savedTheme = localStorage.getItem(THEME_KEY) || (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light');
        applyTheme(savedTheme);
        
        // Initial render: Check current hash, if empty or invalid, default to dashboard
        const initialHash = window.location.hash.substring(1);
        const validRoutes = [
            'dashboard', 'class-subject', 'assignment-management', 'attendance-management',
            'marks-exam', 'mcq-exam', 'announcements', 'events', 'certificates', 'notices',
            'resource-sharing', 'calendar', 'feedback', 'reports-analytics', 'student-details',
            'add-update-student-details',
            'profile-settings'
        ];

        if (initialHash && validRoutes.includes(initialHash)) {
            renderView(initialHash);
        } else {
            // Default to dashboard if no hash or invalid hash
            window.location.hash = '#dashboard'; // Set the hash for consistency
            renderView('dashboard');
        }
    });
    </script>
</body>
</html>
